(function(){function H(e,d){var f={},g;for(g in e)g!==d&&(f[g]=e[g]);if(d in e)for(g in e[d])f[g]=e[d][g];return f}function m(e,d){function f(){return(a=e.charAt(++h))||""}function g(a){var b="",c=h;a&&n();b=e.charAt(h+1)||"";h=c-1;f();return b}function s(b){for(var c=h;f();)if("\\"===a)f();else if(-1!==b.indexOf(a))break;else if("\n"===a)break;return e.substring(c,h+1)}function I(a){var b=h;a=s(a);h=b-1;f();return a}function n(){for(var b="";v.test(g());)f(),b+=a;return b}function J(){var b="";for(a&&
v.test(a)&&(b=a);v.test(f());)b+=a;return b}function E(b){var c=h;b="/"===g();for(f();f();)if(!b&&"*"===a&&"/"===g()){f();break}else if(b&&"\n"===a)return e.substring(c,h);return e.substring(c,h)+a}function x(a){return e.substring(h-a.length,h).toLowerCase()===a}function K(){for(var a=0,b=h+1;b<e.length;b++){var c=e.charAt(b);if("{"===c)return!0;if("("===c)a+=1;else if(")"===c){if(0===a)break;--a}else if(";"===c||"}"===c)break}return!1}d=d||{};d=H(d,"css");e=e||"";var k=d.indent_size?parseInt(d.indent_size,
10):4,y=d.indent_char||" ",L=void 0===d.selector_separator_newline?!0:d.selector_separator_newline,M=void 0===d.end_with_newline?!1:d.end_with_newline,F=void 0===d.newline_between_rules?!0:d.newline_between_rules,C=void 0===d.space_around_combinator?!1:d.space_around_combinator,C=C||(void 0===d.space_around_selector_separator?!1:d.space_around_selector_separator),q=d.eol?d.eol:"auto";d.indent_with_tabs&&(y="\t",k=1);"auto"===q&&(q="\n",e&&D.test(e||"")&&(q=e.match(D)[0]));q=q.replace(/\\r/,"\r").replace(/\\n/,
"\n");e=e.replace(N,"\n");for(var v=/^\s+$/,h=-1,a,z=0,p=e.match(/^[\t ]*/)[0],y=Array(k+1).join(y),r=0,t=0,c={"{":function(a){c.singleSpace();b.push(a);c.newLine()},"}":function(a){c.newLine();b.push(a);c.newLine()},_lastCharWhitespace:function(){return v.test(b[b.length-1])},newLine:function(a){b.length&&(a||"\n"===b[b.length-1]||c.trim(),b.push("\n"),p&&b.push(p))},singleSpace:function(){b.length&&!c._lastCharWhitespace()&&b.push(" ")},preserveSingleSpace:function(){O&&c.singleSpace()},trim:function(){for(;c._lastCharWhitespace();)b.pop()}},
b=[],A=!1,u=!1,B=!1,G="",w="";;){var l=J(),O=""!==l,l=-1!==l.indexOf("\n"),w=G;if(G=a)"/"===a&&"*"===g()?(w=0===r,(l||w)&&c.newLine(),b.push(E()),c.newLine(),w&&c.newLine(!0)):"/"===a&&"/"===g()?(l||"{"===w||c.trim(),c.singleSpace(),b.push(E()),c.newLine()):"@"===a?(c.preserveSingleSpace(),"{"===g()?b.push(s("}")):(b.push(a),l=I(": ,;{}()[]/\x3d'\""),l.match(/[ :]$/)&&(f(),l=s(": ").replace(/\s$/,""),b.push(l),c.singleSpace()),l=l.replace(/\s$/,""),l in m.NESTED_AT_RULE&&(t+=1,l in m.CONDITIONAL_GROUP_RULE&&
(B=!0)))):"#"===a&&"{"===g()?(c.preserveSingleSpace(),b.push(s("}"))):"{"===a?"}"===g(!0)?(n(),f(),c.singleSpace(),b.push("{}"),c.newLine(),F&&0===r&&c.newLine(!0)):(r++,p+=y,c["{"](a),B?(B=!1,A=r>t):A=r>=t):"}"===a?(r--,p=p.slice(0,-k),c["}"](a),u=A=!1,t&&t--,F&&0===r&&c.newLine(!0)):":"===a?(n(),!A&&!B||x("\x26")||K()||x("(")?(x(" ")&&" "!==b[b.length-1]&&b.push(" "),":"===g()?(f(),b.push("::")):b.push(":")):(b.push(":"),u||(u=!0,c.singleSpace()))):'"'===a||"'"===a?(c.preserveSingleSpace(),b.push(s(a))):
";"===a?(u=!1,b.push(a),c.newLine()):"("===a?x("url")?(b.push(a),n(),f()&&(")"!==a&&'"'!==a&&"'"!==a?b.push(s(")")):h--)):(z++,c.preserveSingleSpace(),b.push(a),n()):")"===a?(b.push(a),z--):","===a?(b.push(a),n(),L&&!u&&1>z?c.newLine():c.singleSpace()):("\x3e"===a||"+"===a||"~"===a)&&!u&&1>z?C?(c.singleSpace(),b.push(a),c.singleSpace()):(b.push(a),n(),a&&v.test(a)&&(a="")):("]"!==a&&("["===a?c.preserveSingleSpace():"\x3d"===a?(n(),a="\x3d"):c.preserveSingleSpace()),b.push(a));else break}k="";p&&(k+=
p);k+=b.join("").replace(/[\r\n\t ]+$/,"");M&&(k+="\n");"\n"!==q&&(k=k.replace(/[\n]/g,q));return k}var D=/\r\n|[\n\r\u2028\u2029]/,N=new RegExp(D.source,"g");m.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0};m.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};"function"===typeof define&&define.amd?define([],function(){return{css_beautify:m}}):"undefined"!==typeof exports?exports.css_beautify=m:"undefined"!==typeof window?window.css_beautify=
m:"undefined"!==typeof global&&(global.css_beautify=m)})();