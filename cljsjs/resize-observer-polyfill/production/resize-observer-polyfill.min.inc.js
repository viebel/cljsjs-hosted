(function(n,m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m():"function"===typeof define&&define.amd?define(m):n.ResizeObserver=m()})(this,function(){function n(a){return Array.prototype.slice.call(arguments,1).reduce(function(b,c){return b+(parseFloat(a["border-"+c+"-width"])||0)},0)}var m=function(){function a(a,c){var f=-1;a.some(function(a,b){return a[0]===c?(f=b,!0):!1});return f}return"undefined"!=typeof Map?Map:function(){function b(){this.__entries__=[]}var c={size:{}};
c.size.get=function(){return this.__entries__.length};b.prototype.get=function(b){b=a(this.__entries__,b);return(b=this.__entries__[b])&&b[1]};b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])};b.prototype["delete"]=function(b){var c=this.__entries__;b=a(c,b);~b&&c.splice(b,1)};b.prototype.has=function(b){return!!~a(this.__entries__,b)};b.prototype.clear=function(){this.__entries__.splice(0)};b.prototype.forEach=function(a,b){void 0===
b&&(b=null);for(var c=0,e=this.__entries__;c<e.length;c+=1){var k=e[c];a.call(b,k[1],k[0])}};Object.defineProperties(b.prototype,c);return b}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,w=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame:function(a){return setTimeout(function(){return a(Date.now())},1E3/60)}}(),x=function(a,b){function c(){d&&(d=!1,a());e&&h()}function f(){w(c)}function h(){var a=Date.now();if(d){if(2>
a-k)return;e=!0}else d=!0,e=!1,setTimeout(f,b);k=a}var d=!1,e=!1,k=0;return h},y="top right bottom left width height size weight".split(" "),q="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),z="undefined"!=typeof MutationObserver&&!q,g=function(){this.mutationEventsAdded_=this.connected_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=x(this.refresh.bind(this),20)};g.prototype.addObserver=function(a){~this.observers_.indexOf(a)||
this.observers_.push(a);this.connected_||this.connect_()};g.prototype.removeObserver=function(a){var b=this.observers_;a=b.indexOf(a);~a&&b.splice(a,1);!b.length&&this.connected_&&this.disconnect_()};g.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};g.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});a.forEach(function(a){return a.broadcastActive()});return 0<a.length};g.prototype.connect_=function(){p&&!this.connected_&&
(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};g.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),
window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.connected_=this.mutationEventsAdded_=!1)};g.prototype.onTransitionEnd_=function(a){var b=a.propertyName;y.some(function(a){return!!~b.indexOf(a)})&&this.refresh()};g.getInstance=function(){this.instance_||(this.instance_=new g);return this.instance_};g.instance_=null;
var t=function(a,b){for(var c=0,f=Object.keys(b);c<f.length;c+=1){var h=f[c];Object.defineProperty(a,h,{value:b[h],enumerable:!1,writable:!1,configurable:!0})}return a},u={x:0,y:0,width:0,height:0},A=function(){return"undefined"!=typeof SVGGraphicsElement?function(a){return a instanceof SVGGraphicsElement}:function(a){return a instanceof SVGElement&&"function"===typeof a.getBBox}}(),r=function(a){this.broadcastHeight=this.broadcastWidth=0;this.contentRect_={x:0,y:0,width:0,height:0};this.target=a};
r.prototype.isActive=function(){var a;var b=this.target;if(p)if(A(b))a=b.getBBox(),a={x:0,y:0,width:a.width,height:a.height};else{var c=b.clientWidth,f=b.clientHeight;if(c||f){var h=getComputedStyle(b);a={};for(var d=0,e=["top","right","bottom","left"];d<e.length;d+=1){var k=e[d];a[k]=parseFloat(h["padding-"+k])||0}var g=a.left+a.right,k=a.top+a.bottom,d=parseFloat(h.width)||0,e=parseFloat(h.height)||0;"border-box"===h.boxSizing&&(Math.round(d+g)!==c&&(d-=n(h,"left","right")+g),Math.round(e+k)!==
f&&(e-=n(h,"top","bottom")+k));b!==document.documentElement&&(b=Math.round(d+g)-c,f=Math.round(e+k)-f,1!==Math.abs(b)&&(d-=b),1!==Math.abs(f)&&(e-=f));a={x:a.left,y:a.top,width:d,height:e}}else a=u}else a=u;this.contentRect_=a;return a.width!==this.broadcastWidth||a.height!==this.broadcastHeight};r.prototype.broadcastRect=function(){var a=this.contentRect_;this.broadcastWidth=a.width;this.broadcastHeight=a.height;return a};var B=function(a,b){var c=b.x,f=b.y,g=b.width,d=b.height,e=Object.create(("undefined"!=
typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype);t(e,{x:c,y:f,width:g,height:d,top:f,right:c+g,bottom:d+f,left:c});t(this,{target:a,contentRect:e})},l=function(a,b,c){if("function"!==typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[];this.observations_=new m;this.callback_=a;this.controller_=b;this.callbackCtx_=c};l.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");
if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var b=this.observations_;b.has(a)||(b.set(a,new r(a)),this.controller_.addObserver(this),this.controller_.refresh())}};l.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(a instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');
var b=this.observations_;b.has(a)&&(b["delete"](a),b.size||this.controller_.removeObserver(this))}};l.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};l.prototype.gatherActive=function(){var a=this;this.clearActive();this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})};l.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new B(a.target,
a.broadcastRect())});this.callback_.call(a,b,a);this.clearActive()}};l.prototype.clearActive=function(){this.activeObservations_.splice(0)};l.prototype.hasActive=function(){return 0<this.activeObservations_.length};var v="undefined"!=typeof WeakMap?new WeakMap:new m,s=function(a){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=g.getInstance(),b=new l(a,b,this);v.set(this,b)};
["observe","unobserve","disconnect"].forEach(function(a){s.prototype[a]=function(){return(b=v.get(this))[a].apply(b,arguments);var b}});q="undefined"!=typeof ResizeObserver?ResizeObserver:s;return q});