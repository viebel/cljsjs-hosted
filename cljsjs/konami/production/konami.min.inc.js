var Konami=function(e){var a={addEvent:function(a,c,d,e){a.addEventListener?a.addEventListener(c,d,!1):a.attachEvent&&(a["e"+c+d]=d,a[c+d]=function(){a["e"+c+d](window.event,e)},a.attachEvent("on"+c,a[c+d]))},removeEvent:function(a,c,d){a.removeEventListener?a.removeEventListener(c,d):a.attachEvent&&a.detachEvent(c)},input:"",pattern:"38384040373937396665",keydownHandler:function(b,c){c&&(a=c);a.input+=b?b.keyCode:event.keyCode;a.input.length>a.pattern.length&&(a.input=a.input.substr(a.input.length-
a.pattern.length));if(a.input===a.pattern)return a.code(a._currentLink),a.input="",b.preventDefault(),!1},load:function(a){this._currentLink=a;this.addEvent(document,"keydown",this.keydownHandler,this);this.iphone.load(a)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler);this.iphone.unload()},code:function(a){window.location=a},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:"UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT TAP TAP".split(" "),input:[],
code:function(b){a.code(b)},touchmoveHandler:function(b){1===b.touches.length&&!0===a.iphone.capture&&(b=b.touches[0],a.iphone.stop_x=b.pageX,a.iphone.stop_y=b.pageY,a.iphone.tap=!1,a.iphone.capture=!1,a.iphone.check_direction())},touchendHandler:function(){a.iphone.input.push(a.iphone.check_direction());a.iphone.input.length>a.iphone.keys.length&&a.iphone.input.shift();if(a.iphone.input.length===a.iphone.keys.length){for(var b=!0,c=0;c<a.iphone.keys.length;c++)a.iphone.input[c]!==a.iphone.keys[c]&&
(b=!1);b&&a.iphone.code(a._currentLink)}},touchstartHandler:function(b){a.iphone.start_x=b.changedTouches[0].pageX;a.iphone.start_y=b.changedTouches[0].pageY;a.iphone.tap=!0;a.iphone.capture=!0},load:function(b){this.orig_keys=this.keys;a.addEvent(document,"touchmove",this.touchmoveHandler);a.addEvent(document,"touchend",this.touchendHandler,!1);a.addEvent(document,"touchstart",this.touchstartHandler)},unload:function(){a.removeEvent(document,"touchmove",this.touchmoveHandler);a.removeEvent(document,
"touchend",this.touchendHandler);a.removeEvent(document,"touchstart",this.touchstartHandler)},check_direction:function(){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=0>this.start_x-this.stop_x?"RIGHT":"LEFT";y=0>this.start_y-this.stop_y?"DOWN":"UP";result=x_magnitude>y_magnitude?x:y;return result=!0===this.tap?"TAP":result}}};"string"===typeof e&&a.load(e);"function"===typeof e&&(a.code=e,a.load());return a};
"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=Konami:"function"===typeof define&&define.amd?define([],function(){return Konami}):window.Konami=Konami;