(function(c,p){"object"===typeof exports&&"undefined"!==typeof module?p(exports,require("d3-selection"),require("d3-scale"),require("d3-axis"),require("d3-array")):"function"===typeof define&&define.amd?define(["exports","d3-selection","d3-scale","d3-axis","d3-array"],p):p(c.d3=c.d3||{},c.d3,c.d3,c.d3,c.d3)})(this,function(c,p,B,C,D){c.horizonChart=function(){function a(b){var a=p.select(this);q=(k+r)*b.length;t=a.append("canvas");t.attr("width",q).attr("height",e);a.append("span").attr("class","title").text(w);
a.append("span").attr("class","value");var a=t.node().getContext("2d"),l=x||D.extent(b);f.domain([0,Math.max(-l[0],l[1])]);y=C.axisTop(null).ticks(5);a.clearRect(0,0,q,e);var l=k+r,v=~~Math.max(0,-(n/l)),A=~~Math.min(b.length,v+q/l);if(!(v>b.length)){for(var m=!1,g=0;g<h;g++){a.fillStyle=c[h+g];var d=(g+1-h)*e;f.range([h*e+d,d]);for(var d=v,u;d<A;d++)u=b[d],0>=u?m=!0:void 0!==u&&a.fillRect(n+d*l,f(u),k,f(0)-f(u))}if(m)for("offset"===z&&(a.translate(0,e),a.scale(1,-1)),g=0;g<h;g++)for(a.fillStyle=
c[h-g-1],d=(g+1-h)*e,f.range([h*e+d,d]),m=v;m<A;m++)d=b[m],0<=d||a.fillRect(n+m*l,f(-d),k,f(0)-f(-d))}}var c="#313695 #4575b4 #74add1 #abd9e9 #fee090 #fdae61 #f46d43 #d73027".split(" "),h=c.length>>1,q=1E3,e=30,n=0,k=1,r=0,z="offset",y=null,w=null,x=null,f=B.scaleLinear().range([0,e]),t=null;a.axis=function(b){return arguments.length?(y=b,a):y};a.canvas=function(b){return arguments.length?(t=b,a):t};a.colors=function(b){if(!arguments.length)return c;c=b;h=c.length>>1;return a};a.height=function(b){return arguments.length?
(e=b,a):e};a.step=function(b){return arguments.length?(k=b,a):k};a.spacing=function(b){return arguments.length?(r=b,a):r};a.title=function(b){return arguments.length?(w=b,a):w};a.mode=function(b){return arguments.length?(z=b,a):z};a.extent=function(b){return arguments.length?(x=b,a):x};a.offsetX=function(b){return arguments.length?(n=b,a):n};a.indexExtent=function(){var a=k+r,c=-n/a;return[c,c+q/a]};return a};Object.defineProperty(c,"__esModule",{value:!0})});