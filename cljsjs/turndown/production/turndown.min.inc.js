var TurndownService=function(){function C(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}function m(a){return-1!==D.indexOf(a.nodeName.toLowerCase())}function r(a){return-1!==t.indexOf(a.nodeName.toLowerCase())}function u(a){this.options=a;this._keep=[];this._remove=[];this.blankRule={replacement:a.blankReplacement};this.keepReplacement=a.keepReplacement;this.defaultRule={replacement:a.defaultReplacement};this.array=[];for(var b in a.rules)this.array.push(a.rules[b])}
function n(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],h;a:{h=e;var k=b,f=c,g=h.filter;if("string"===typeof g){if(g===k.nodeName.toLowerCase()){h=!0;break a}}else if(Array.isArray(g)){if(-1<g.indexOf(k.nodeName.toLowerCase())){h=!0;break a}}else if("function"===typeof g){if(g.call(h,k,f)){h=!0;break a}}else throw new TypeError("`filter` needs to be a string, array, or function");h=void 0}if(h)return e}}function E(a){var b=a.element,c=a.isBlock,d=a.isVoid;a=a.isPre||function(a){return"PRE"===a.nodeName};
if(b.firstChild&&!a(b)){for(var e=null,h=!1,k=null,f=v(k,b,a);f!==b;){if(3===f.nodeType||4===f.nodeType){var g=f.data.replace(/[ \r\n\t]+/g," ");e&&!/ $/.test(e.data)||h||" "!==g[0]||(g=g.substr(1));if(!g){f=p(f);continue}f.data=g;e=f}else if(1===f.nodeType)c(f)||"BR"===f.nodeName?(e&&(e.data=e.data.replace(/ $/,"")),e=null,h=!1):d(f)&&(e=null,h=!0);else{f=p(f);continue}g=v(k,f,a);k=f;f=g}e&&(e.data=e.data.replace(/ $/,""),e.data||p(e))}}function p(a){var b=a.nextSibling||a.parentNode;a.parentNode.removeChild(a);
return b}function v(a,b,c){return a&&a.parentNode===b||c(b)?b.nextSibling||b.parentNode:b.firstChild||b.nextSibling||b.parentNode}function F(){var a=function(){};G()?a.prototype.parseFromString=function(a){var c=new window.ActiveXObject("htmlfile");c.designMode="on";c.open();c.write(a);c.close();return c}:a.prototype.parseFromString=function(a){var c=document.implementation.createHTMLDocument("");c.open();c.write(a);c.close();return c};return a}function G(){var a=!1;try{document.implementation.createHTMLDocument("").open()}catch(b){window.ActiveXObject&&
(a=!0)}return a}function H(a){"string"===typeof a?(q=q||new I,a=q.parseFromString('\x3cx-turndown id\x3d"turndown-root"\x3e'+a+"\x3c/x-turndown\x3e","text/html").getElementById("turndown-root")):a=a.cloneNode(!0);E({element:a,isBlock:m,isVoid:r});return a}function J(a){a.isBlock=m(a);a.isCode="code"===a.nodeName.toLowerCase()||a.parentNode.isCode;var b;b=-1===["A","TH","TD"].indexOf(a.nodeName)&&/^\s*$/i.test(a.textContent)&&!r(a)&&!(a.querySelector&&a.querySelector(K));a.isBlank=b;var c=b="";if(!a.isBlock){var d=
/^[ \r\n\t]/.test(a.textContent),e=/[ \r\n\t]$/.test(a.textContent);d&&!w("left",a)&&(b=" ");e&&!w("right",a)&&(c=" ")}a.flankingWhitespace={leading:b,trailing:c};return a}function w(a,b){var c,d,e;"left"===a?(c=b.previousSibling,d=/ $/):(c=b.nextSibling,d=/^ /);c&&(3===c.nodeType?e=d.test(c.nodeValue):1!==c.nodeType||m(c)||(e=d.test(c.textContent)));return e}function l(a){if(!(this instanceof l))return new l(a);this.options=C({},{rules:L,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",
fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(a,c){return c.isBlock?"\n\n":""},keepReplacement:function(a,c){return c.isBlock?"\n\n"+c.outerHTML+"\n\n":c.outerHTML},defaultReplacement:function(a,c){return c.isBlock?"\n\n"+a+"\n\n":a}},a);this.rules=new u(this.options)}function x(a){var b=this;return M.call(a.childNodes,function(a,d){d=new J(d);var e="";3===d.nodeType?e=d.isCode?d.nodeValue:b.escape(d.nodeValue):1===
d.nodeType&&(e=N.call(b,d));return y(a,e)},"")}function O(a){var b=this;this.rules.forEach(function(c){"function"===typeof c.append&&(a=y(a,c.append(b.options)))});return a.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function N(a){var b=this.rules.forNode(a),c=x.call(this,a),d=a.flankingWhitespace;if(d.leading||d.trailing)c=c.trim();return d.leading+b.replacement(c,a,this.options)+d.trailing}function y(a,b){var c;c=b;c=[a.match(z)[0],c.match(A)[0]].sort();c=c[c.length-1];c=2>c.length?c:"\n\n";
a=a.replace(z,"");b=b.replace(A,"");return a+c+b}var D="address article aside audio blockquote body canvas center dd dir div dl dt fieldset figcaption figure footer form frameset h1 h2 h3 h4 h5 h6 header hgroup hr html isindex li main menu nav noframes noscript ol output p pre section table tbody td tfoot th thead tr ul".split(" "),t="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),K=t.join(),L={paragraph:{filter:"p",replacement:function(a){return"\n\n"+
a+"\n\n"}},lineBreak:{filter:"br",replacement:function(a,b,c){return c.br+"\n"}},heading:{filter:"h1 h2 h3 h4 h5 h6".split(" "),replacement:function(a,b,c){b=Number(b.nodeName.charAt(1));return"setext"===c.headingStyle&&3>b?(c=Array(a.length+1).join(1===b?"\x3d":"-"),"\n\n"+a+"\n"+c+"\n\n"):"\n\n"+Array(b+1).join("#")+" "+a+"\n\n"}},blockquote:{filter:"blockquote",replacement:function(a){a=a.replace(/^\n+|\n+$/g,"");a=a.replace(/^/gm,"\x3e ");return"\n\n"+a+"\n\n"}},list:{filter:["ul","ol"],replacement:function(a,
b){var c=b.parentNode;return"LI"===c.nodeName&&c.lastElementChild===b?"\n"+a:"\n\n"+a+"\n\n"}},listItem:{filter:"li",replacement:function(a,b,c){a=a.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var d=c.bulletListMarker+"   ";c=b.parentNode;"OL"===c.nodeName&&(d=c.getAttribute("start"),c=Array.prototype.indexOf.call(c.children,b),d=(d?Number(d)+c:c+1)+".  ");return d+a+(b.nextSibling&&!/\n$/.test(a)?"\n":"")}},indentedCodeBlock:{filter:function(a,b){return"indented"===b.codeBlockStyle&&
"PRE"===a.nodeName&&a.firstChild&&"CODE"===a.firstChild.nodeName},replacement:function(a,b,c){return"\n\n    "+b.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},fencedCodeBlock:{filter:function(a,b){return"fenced"===b.codeBlockStyle&&"PRE"===a.nodeName&&a.firstChild&&"CODE"===a.firstChild.nodeName},replacement:function(a,b,c){a=((b.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+c.fence+a+"\n"+b.firstChild.textContent+"\n"+c.fence+"\n\n"}},horizontalRule:{filter:"hr",
replacement:function(a,b,c){return"\n\n"+c.hr+"\n\n"}},inlineLink:{filter:function(a,b){return"inlined"===b.linkStyle&&"A"===a.nodeName&&a.getAttribute("href")},replacement:function(a,b){var c=b.getAttribute("href");return"["+a+"]("+c+(b.title?' "'+b.title+'"':"")+")"}},referenceLink:{filter:function(a,b){return"referenced"===b.linkStyle&&"A"===a.nodeName&&a.getAttribute("href")},replacement:function(a,b,c){var d=b.getAttribute("href");b=b.title?' "'+b.title+'"':"";switch(c.linkReferenceStyle){case "collapsed":c=
"["+a+"][]";a="["+a+"]: "+d+b;break;case "shortcut":c="["+a+"]";a="["+a+"]: "+d+b;break;default:var e=this.references.length+1;c="["+a+"]["+e+"]";a="["+e+"]: "+d+b}this.references.push(a);return c},references:[],append:function(a){a="";this.references.length&&(a="\n\n"+this.references.join("\n")+"\n\n",this.references=[]);return a}},emphasis:{filter:["em","i"],replacement:function(a,b,c){return a.trim()?c.emDelimiter+a+c.emDelimiter:""}},strong:{filter:["strong","b"],replacement:function(a,b,c){return a.trim()?
c.strongDelimiter+a+c.strongDelimiter:""}},code:{filter:function(a){var b=a.previousSibling||a.nextSibling,b="PRE"===a.parentNode.nodeName&&!b;return"CODE"===a.nodeName&&!b},replacement:function(a){if(!a.trim())return"";var b="`",c="",d="",e=a.match(/`+/gm);if(e)for(/^`/.test(a)&&(c=" "),/`$/.test(a)&&(d=" ");-1!==e.indexOf(b);)b+="`";return b+c+a+d+b}},image:{filter:"img",replacement:function(a,b){var c=b.alt||"",d=b.getAttribute("src")||"",e=b.title||"";return d?"!["+c+"]("+d+(e?' "'+e+'"':"")+
")":""}}};u.prototype={add:function(a,b){this.array.unshift(b)},keep:function(a){this._keep.unshift({filter:a,replacement:this.keepReplacement})},remove:function(a){this._remove.unshift({filter:a,replacement:function(){return""}})},forNode:function(a){if(a.isBlank)return this.blankRule;var b;return(b=n(this.array,a,this.options))||(b=n(this._keep,a,this.options))||(b=n(this._remove,a,this.options))?b:this.defaultRule},forEach:function(a){for(var b=0;b<this.array.length;b++)a(this.array[b],b)}};var B=
"undefined"!==typeof window?window:{},I=function(){var a=B.DOMParser,b=!1;try{(new a).parseFromString("","text/html")&&(b=!0)}catch(c){}return b}()?B.DOMParser:F(),q,M=Array.prototype.reduce,A=/^\n*/,z=/\n*$/;l.prototype={turndown:function(a){if(null==a||"string"!==typeof a&&(!a.nodeType||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType))throw new TypeError(a+" is not a string, or an element/document/fragment node.");if(""===a)return"";a=x.call(this,new H(a));return O.call(this,a)},use:function(a){if(Array.isArray(a))for(var b=
0;b<a.length;b++)this.use(a[b]);else if("function"===typeof a)a(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(a,b){this.rules.add(a,b);return this},keep:function(a){this.rules.keep(a);return this},remove:function(a){this.rules.remove(a);return this},escape:function(a){return a.replace(/\\(\S)/g,"\\\\$1").replace(/^(#{1,6} )/gm,"\\$1").replace(/^([-*_] *){3,}$/gm,function(a,c){return a.split(c).join("\\"+c)}).replace(/^(\W* {0,3})(\d+)\. /gm,
"$1$2\\. ").replace(/^([^\\\w]*)[*+-] /gm,function(a){return a.replace(/([*+-])/g,"\\$1")}).replace(/^(\W* {0,3})> /gm,"$1\\\x3e ").replace(/\*+(?![*\s\W]).+?\*+/g,function(a){return a.replace(/\*/g,"\\*")}).replace(/_+(?![_\s\W]).+?_+/g,function(a){return a.replace(/_/g,"\\_")}).replace(/`+(?![`\s\W]).+?`+/g,function(a){return a.replace(/`/g,"\\`")}).replace(/[\[\]]/g,"\\$\x26")}};return l}();