THREE.SVGObject=function(B){THREE.Object3D.call(this);this.node=B};THREE.SVGObject.prototype=Object.create(THREE.Object3D.prototype);THREE.SVGObject.prototype.constructor=THREE.SVGObject;
THREE.SVGRenderer=function(){function B(){for(P=0;0<l.childNodes.length;)l.removeChild(l.childNodes[0])}function x(a,b){var d=Math.floor(255*a.r)+","+Math.floor(255*a.g)+","+Math.floor(255*a.b);return void 0===b||1===b?"rgb("+d+")":"rgb("+d+"); fill-opacity: "+b}function k(a){return null!==I?a.toFixed(I):a}function X(a){q.setRGB(0,0,0);t.setRGB(0,0,0);u.setRGB(0,0,0);for(var b=0,d=a.length;b<d;b++){var e=a[b],c=e.color;e instanceof THREE.AmbientLight?(q.r+=c.r,q.g+=c.g,q.b+=c.b):e instanceof THREE.DirectionalLight?
(t.r+=c.r,t.g+=c.g,t.b+=c.b):e instanceof THREE.PointLight&&(u.r+=c.r,u.g+=c.g,u.b+=c.b)}}function Y(a,b,d){var e=b.scale.x*n;b=b.scale.y*h;d.isPointsMaterial&&(e*=d.size,b*=d.size);a="M"+k(a.x-.5*e)+","+k(a.y-.5*b)+"h"+k(e)+"v"+k(b)+"h"+k(-e)+"z";e="";if(d.isSpriteMaterial||d.isPointsMaterial)e="fill:"+x(d.color,d.opacity);J(e,a)}function Z(a,b,d,e){a="M"+k(a.positionScreen.x)+","+k(a.positionScreen.y)+"L"+k(b.positionScreen.x)+","+k(b.positionScreen.y);e.isLineBasicMaterial&&(b="fill:none;stroke:"+
x(e.color,e.opacity)+";stroke-width:"+e.linewidth+";stroke-linecap:"+e.linecap,e.isLineDashedMaterial&&(b=b+";stroke-dasharray:"+e.dashSize+","+e.gapSize),J(b,a))}function aa(a,b,d,e,c){y.info.render.vertices+=3;y.info.render.faces++;var f="M"+k(a.positionScreen.x)+","+k(a.positionScreen.y)+"L"+k(b.positionScreen.x)+","+k(b.positionScreen.y)+"L"+k(d.positionScreen.x)+","+k(d.positionScreen.y)+"z",g="";if(c instanceof THREE.MeshBasicMaterial)r.copy(c.color),c.vertexColors===THREE.FaceColors&&r.multiply(e.color);
else if(c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshPhongMaterial){K.copy(c.color);c.vertexColors===THREE.FaceColors&&K.multiply(e.color);r.copy(q);Q.copy(a.positionWorld).add(b.positionWorld).add(d.positionWorld).divideScalar(3);a=L;b=Q;e=e.normalModel;d=r;for(var g=0,n=a.length;g<n;g++){var h=a[g],l=h.color;if(h instanceof THREE.DirectionalLight){var p=v.setFromMatrixPosition(h.matrixWorld).normalize(),m=e.dot(p);0>=m||(m*=h.intensity,d.r+=l.r*m,d.g+=l.g*m,d.b+=l.b*m)}else h instanceof
THREE.PointLight&&(p=v.setFromMatrixPosition(h.matrixWorld),m=e.dot(v.subVectors(p,b).normalize()),0>=m||(m*=0==h.distance?1:1-Math.min(b.distanceTo(p)/h.distance,1),0!=m&&(m*=h.intensity,d.r+=l.r*m,d.g+=l.g*m,d.b+=l.b*m)))}r.multiply(K).add(c.emissive)}else c instanceof THREE.MeshNormalMaterial&&(C.copy(e.normalModel).applyMatrix3(R),r.setRGB(C.x,C.y,C.z).multiplyScalar(.5).addScalar(.5));g=c.wireframe?"fill:none;stroke:"+x(r,c.opacity)+";stroke-width:"+c.wireframeLinewidth+";stroke-linecap:"+c.wireframeLinecap+
";stroke-linejoin:"+c.wireframeLinejoin:"fill:"+x(r,c.opacity);J(g,f)}function J(a,b){z===a?w+=b:(S(),z=a,w=b)}function S(){if(w){var a=P++;null==D[a]&&(D[a]=document.createElementNS("http://www.w3.org/2000/svg","path"),0==M&&D[a].setAttribute("shape-rendering","crispEdges"));E=D[a];E.setAttribute("d",w);E.setAttribute("style",z);l.appendChild(E)}z=w=""}console.log("THREE.SVGRenderer",THREE.REVISION);var y=this,N,O,L,ba=new THREE.Projector,l=document.createElementNS("http://www.w3.org/2000/svg","svg"),
F,G,n,h,f,g,p,H=new THREE.Box2,A=new THREE.Box2,r=new THREE.Color,K=new THREE.Color,q=new THREE.Color,t=new THREE.Color,u=new THREE.Color,T=new THREE.Color,U=1,v=new THREE.Vector3,Q=new THREE.Vector3,C=new THREE.Vector3,R=new THREE.Matrix3,V=new THREE.Matrix4,W=new THREE.Matrix4,D=[],E,P=0,w,z,M=1,I=null;this.domElement=l;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.setQuality=function(a){switch(a){case "high":M=1;break;case "low":M=0}};this.setClearColor=
function(a,b){T.set(a);U=void 0!==b?b:1};this.setPixelRatio=function(){};this.setSize=function(a,b){F=a;G=b;n=F/2;h=G/2;l.setAttribute("viewBox",-n+" "+-h+" "+F+" "+G);l.setAttribute("width",F);l.setAttribute("height",G);H.min.set(-n,-h);H.max.set(n,h)};this.setPrecision=function(a){I=a};this.clear=function(){B();l.style.backgroundColor=x(T,U)};this.render=function(a,b){if(!1===b instanceof THREE.Camera)console.error("THREE.SVGRenderer.render: camera is not an instance of THREE.Camera.");else{var d=
a.background;d&&d.isColor?(B(),l.style.backgroundColor=x(d)):!0===this.autoClear&&this.clear();y.info.render.vertices=0;y.info.render.faces=0;V.copy(b.matrixWorldInverse);W.multiplyMatrices(b.projectionMatrix,V);N=ba.projectScene(a,b,this.sortObjects,this.sortElements);O=N.elements;L=N.lights;R.getNormalMatrix(b.matrixWorldInverse);X(L);z=w="";for(var d=0,e=O.length;d<e;d++){var c=O[d],k=c.material;void 0!==k&&0!==k.opacity&&(A.makeEmpty(),c instanceof THREE.RenderableSprite?(f=c,f.x*=n,f.y*=-h,Y(f,
c,k)):c instanceof THREE.RenderableLine?(f=c.v1,g=c.v2,f.positionScreen.x*=n,f.positionScreen.y*=-h,g.positionScreen.x*=n,g.positionScreen.y*=-h,A.setFromPoints([f.positionScreen,g.positionScreen]),!0===H.intersectsBox(A)&&Z(f,g,c,k)):c instanceof THREE.RenderableFace&&(f=c.v1,g=c.v2,p=c.v3,-1>f.positionScreen.z||1<f.positionScreen.z||-1>g.positionScreen.z||1<g.positionScreen.z||-1>p.positionScreen.z||1<p.positionScreen.z||(f.positionScreen.x*=n,f.positionScreen.y*=-h,g.positionScreen.x*=n,g.positionScreen.y*=
-h,p.positionScreen.x*=n,p.positionScreen.y*=-h,A.setFromPoints([f.positionScreen,g.positionScreen,p.positionScreen]),!0===H.intersectsBox(A)&&aa(f,g,p,c,k))))}S();a.traverseVisible(function(a){a instanceof THREE.SVGObject&&(v.setFromMatrixPosition(a.matrixWorld),v.applyMatrix4(W),a=a.node,a.setAttribute("transform","translate("+v.x*n+","+-v.y*h+")"),l.appendChild(a))})}}};