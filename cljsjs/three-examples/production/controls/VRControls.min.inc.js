THREE.VRControls=function(c,f){function h(a){g=a;0<a.length?b=a[0]:f&&f("VR input not available.")}var k=this,b,g,d=new THREE.Matrix4,e=null;"VRFrameData"in window&&(e=new VRFrameData);navigator.getVRDisplays&&navigator.getVRDisplays().then(h).catch(function(){console.warn("THREE.VRControls: Unable to get VR Displays")});this.scale=1;this.standing=!1;this.userHeight=1.6;this.getVRDisplay=function(){return b};this.setVRDisplay=function(a){b=a};this.getVRDisplays=function(){console.warn("THREE.VRControls: getVRDisplays() is being deprecated.");
return g};this.getStandingMatrix=function(){return d};this.update=function(){if(b){var a;b.getFrameData?(b.getFrameData(e),a=e.pose):b.getPose&&(a=b.getPose());null!==a.orientation&&c.quaternion.fromArray(a.orientation);null!==a.position?c.position.fromArray(a.position):c.position.set(0,0,0);this.standing&&(b.stageParameters?(c.updateMatrix(),d.fromArray(b.stageParameters.sittingToStandingTransform),c.applyMatrix(d)):c.position.setY(c.position.y+this.userHeight));c.position.multiplyScalar(k.scale)}};
this.dispose=function(){b=null}};