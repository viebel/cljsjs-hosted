THREE.PointerLockControls=function(d){var h=this;d.rotation.set(0,0,0);var b=new THREE.Object3D;b.add(d);var c=new THREE.Object3D;c.position.y=10;c.add(b);var f=Math.PI/2,g=function(a){if(!1!==h.enabled){var e=a.movementY||a.mozMovementY||a.webkitMovementY||0;c.rotation.y-=.002*(a.movementX||a.mozMovementX||a.webkitMovementX||0);b.rotation.x-=.002*e;b.rotation.x=Math.max(-f,Math.min(f,b.rotation.x))}};this.dispose=function(){document.removeEventListener("mousemove",g,!1)};document.addEventListener("mousemove",
g,!1);this.enabled=!1;this.getObject=function(){return c};this.getDirection=function(){var a=new THREE.Vector3(0,0,-1),e=new THREE.Euler(0,0,0,"YXZ");return function(d){e.set(b.rotation.x,c.rotation.y,0);d.copy(a).applyEuler(e);return d}}()};