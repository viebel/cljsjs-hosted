THREE.STLExporter=function(){};
THREE.STLExporter.prototype={constructor:THREE.STLExporter,parse:function(){var c=new THREE.Vector3,k=new THREE.Matrix3;return function(f){var a="",a=a+"solid exported\n";f.traverse(function(d){if(d instanceof THREE.Mesh){var b=d.geometry;d=d.matrixWorld;b instanceof THREE.BufferGeometry&&(b=(new THREE.Geometry).fromBufferGeometry(b));if(b instanceof THREE.Geometry){var f=b.vertices,b=b.faces;k.getNormalMatrix(d);for(var g=0,l=b.length;g<l;g++){var e=b[g];c.copy(e.normal).applyMatrix3(k).normalize();a+=
"\tfacet normal "+c.x+" "+c.y+" "+c.z+"\n";a+="\t\touter loop\n";for(var e=[e.a,e.b,e.c],h=0;3>h;h++)c.copy(f[e[h]]).applyMatrix4(d),a+="\t\t\tvertex "+c.x+" "+c.y+" "+c.z+"\n";a+="\t\tendloop\n";a+="\tendfacet\n"}}}});return a+="endsolid exported\n"}}()};