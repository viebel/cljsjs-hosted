THREE.STLBinaryExporter=function(){};
THREE.STLBinaryExporter.prototype={constructor:THREE.STLBinaryExporter,parse:function(){var d=new THREE.Vector3,l=new THREE.Matrix3;return function(f){var g=[],c=0;f.traverse(function(a){if(a instanceof THREE.Mesh){var b=a.geometry;b instanceof THREE.BufferGeometry&&(b=(new THREE.Geometry).fromBufferGeometry(b));b instanceof THREE.Geometry&&(c+=b.faces.length,g.push({geometry:b,matrix:a.matrixWorld}))}});var a=80;f=new ArrayBuffer(2*c+48*c+84);var b=new DataView(f);b.setUint32(a,c,!0);a+=4;g.forEach(function(c){var f=
c.geometry.vertices,g=c.geometry.faces;l.getNormalMatrix(c.matrix);for(var h=0,m=g.length;h<m;h++){var e=g[h];d.copy(e.normal).applyMatrix3(l).normalize();b.setFloat32(a,d.x,!0);a+=4;b.setFloat32(a,d.y,!0);a+=4;b.setFloat32(a,d.z,!0);a+=4;for(var e=[e.a,e.b,e.c],k=0;3>k;k++)d.copy(f[e[k]]).applyMatrix4(c.matrix),b.setFloat32(a,d.x,!0),a+=4,b.setFloat32(a,d.y,!0),a+=4,b.setFloat32(a,d.z,!0),a+=4;b.setUint16(a,0,!0);a+=2}});return b}}()};