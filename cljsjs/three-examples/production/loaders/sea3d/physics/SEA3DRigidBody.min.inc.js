SEA3D.Sphere=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.radius=a.readFloat()};SEA3D.Sphere.prototype.type="sph";SEA3D.Box=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.width=a.readFloat();this.height=a.readFloat();this.depth=a.readFloat()};SEA3D.Box.prototype.type="box";SEA3D.Cone=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.radius=a.readFloat();this.height=a.readFloat()};SEA3D.Cone.prototype.type="cone";
SEA3D.Capsule=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.radius=a.readFloat();this.height=a.readFloat()};SEA3D.Capsule.prototype.type="cap";SEA3D.Cylinder=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.radius=a.readFloat();this.height=a.readFloat()};SEA3D.Cylinder.prototype.type="cyl";SEA3D.ConvexGeometry=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.geometry=c.getObject(a.readUInt());this.subGeometryIndex=a.readUByte()};SEA3D.ConvexGeometry.prototype.type="gs";
SEA3D.TriangleGeometry=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.geometry=c.getObject(a.readUInt());this.subGeometryIndex=a.readUByte()};SEA3D.TriangleGeometry.prototype.type="sgs";SEA3D.Compound=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.compounds=[];b=a.readUByte();for(var d=0;d<b;d++)this.compounds.push({shape:c.getObject(a.readUInt()),transform:a.readMatrix()})};SEA3D.Compound.prototype.type="cmps";
SEA3D.Physics=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.attrib=a.readUShort();this.shape=c.getObject(a.readUInt());this.attrib&1?this.target=c.getObject(a.readUInt()):this.transform=a.readMatrix();this.attrib&2&&(this.offset=a.readMatrix());this.attrib&4&&(this.scripts=a.readScriptList(c));this.attrib&16&&(this.attributes=c.getObject(a.readUInt()))};SEA3D.Physics.prototype.readTag=function(b,a,c){};
SEA3D.RigidBodyBase=function(b,a,c){SEA3D.Physics.call(this,b,a,c);this.attrib&32?(this.linearDamping=a.readFloat(),this.angularDamping=a.readFloat()):this.angularDamping=this.linearDamping=0;this.mass=a.readFloat();this.friction=a.readFloat();this.restitution=a.readFloat()};SEA3D.RigidBodyBase.prototype=Object.create(SEA3D.Physics.prototype);SEA3D.RigidBodyBase.prototype.constructor=SEA3D.RigidBodyBase;SEA3D.RigidBody=function(b,a,c){SEA3D.RigidBodyBase.call(this,b,a,c);a.readTags(this.readTag.bind(this))};
SEA3D.RigidBody.prototype=Object.create(SEA3D.RigidBodyBase.prototype);SEA3D.RigidBody.prototype.constructor=SEA3D.RigidBody;SEA3D.RigidBody.prototype.type="rb";
SEA3D.CarController=function(b,a,c){SEA3D.RigidBodyBase.call(this,b,a,c);this.suspensionStiffness=a.readFloat();this.suspensionCompression=a.readFloat();this.suspensionDamping=a.readFloat();this.maxSuspensionTravelCm=a.readFloat();this.frictionSlip=a.readFloat();this.maxSuspensionForce=a.readFloat();this.dampingCompression=a.readFloat();this.dampingRelaxation=a.readFloat();b=a.readUByte();this.wheel=[];for(var d=0;d<b;d++)this.wheel[d]=new SEA3D.CarController.Wheel(a,c);a.readTags(this.readTag.bind(this))};
SEA3D.CarController.Wheel=function(b,a){this.data=b;this.sea3d=a;this.attrib=b.readUShort();this.isFront=0!=(this.attrib&1);this.attrib&2&&(this.target=a.getObject(b.readUInt()));this.attrib&4&&(this.offset=b.readMatrix());this.pos=b.readVector3();this.dir=b.readVector3();this.axle=b.readVector3();this.radius=b.readFloat();this.suspensionRestLength=b.readFloat()};SEA3D.CarController.prototype=Object.create(SEA3D.RigidBodyBase.prototype);SEA3D.CarController.prototype.constructor=SEA3D.CarController;
SEA3D.CarController.prototype.type="carc";SEA3D.Constraints=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;this.attrib=a.readUShort();this.disableCollisionsBetweenBodies=this.attrib&1;this.targetA=c.getObject(a.readUInt());this.pointA=a.readVector3();this.attrib&2&&(this.targetB=c.getObject(a.readUInt()),this.pointB=a.readVector3())};SEA3D.P2PConstraint=function(b,a,c){this.name=b;this.data=a;this.sea3d=c;SEA3D.Constraints.call(this,b,a,c)};SEA3D.P2PConstraint.prototype=Object.create(SEA3D.Constraints.prototype);
SEA3D.P2PConstraint.prototype.constructor=SEA3D.P2PConstraint;SEA3D.P2PConstraint.prototype.type="p2pc";SEA3D.HingeConstraint=function(b,a,c){SEA3D.Constraints.call(this,b,a,c);this.axisA=a.readVector3();this.attrib&1&&(this.axisB=a.readVector3());this.attrib&4&&(this.limit={low:a.readFloat(),high:a.readFloat(),softness:a.readFloat(),biasFactor:a.readFloat(),relaxationFactor:a.readFloat()});this.attrib&8&&(this.angularMotor={velocity:a.readFloat(),impulse:a.readFloat()})};
SEA3D.HingeConstraint.prototype=Object.create(SEA3D.Constraints.prototype);SEA3D.HingeConstraint.prototype.constructor=SEA3D.HingeConstraint;SEA3D.HingeConstraint.prototype.type="hnec";SEA3D.ConeTwistConstraint=function(b,a,c){SEA3D.Constraints.call(this,b,a,c);this.axisA=a.readVector3();this.attrib&1&&(this.axisB=a.readVector3());this.attrib&4&&(this.limit={swingSpan1:a.readFloat(),swingSpan2:a.readFloat(),twistSpan:a.readFloat(),softness:a.readFloat(),biasFactor:a.readFloat(),relaxationFactor:a.readFloat()})};
SEA3D.ConeTwistConstraint.prototype=Object.create(SEA3D.Constraints.prototype);SEA3D.ConeTwistConstraint.prototype.constructor=SEA3D.ConeTwistConstraint;SEA3D.ConeTwistConstraint.prototype.type="ctwc";
SEA3D.File.setExtension(function(){this.addClass(SEA3D.Sphere);this.addClass(SEA3D.Box);this.addClass(SEA3D.Cone);this.addClass(SEA3D.Capsule);this.addClass(SEA3D.Cylinder);this.addClass(SEA3D.ConvexGeometry);this.addClass(SEA3D.TriangleGeometry);this.addClass(SEA3D.Compound);this.addClass(SEA3D.RigidBody);this.addClass(SEA3D.P2PConstraint);this.addClass(SEA3D.HingeConstraint);this.addClass(SEA3D.ConeTwistConstraint);this.addClass(SEA3D.CarController)});