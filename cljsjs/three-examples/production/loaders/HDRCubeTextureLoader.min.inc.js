THREE.HDRCubeTextureLoader=function(f){this.manager=void 0!==f?f:THREE.DefaultLoadingManager;this.hdrLoader=new THREE.RGBELoader};
THREE.HDRCubeTextureLoader.prototype.load=function(f,q,u,v,w){function x(l,r,e,d){var c=new THREE.FileLoader(this.manager);c.setResponseType("arraybuffer");c.load(q[l],function(a){t++;if(a=y._parser(a)){if(f===THREE.FloatType){for(var c=a.data.length/4*3,d=new Float32Array(c),g=0;g<c;g++){var e=a.data,k=4*g,m=d,n=3*g,p=Math.pow(2,e[k+3]-128)/255;m[n+0]=e[k+0]*p;m[n+1]=e[k+1]*p;m[n+2]=e[k+2]*p}a.data=d}else if(f===THREE.HalfFloatType){c=a.data.length/4*3;d=new Uint16Array(c);for(g=0;g<c;g++)z(a.data,
4*g,d,3*g);a.data=d}void 0!==a.image?b[l].images=a.image:void 0!==a.data&&(a=new THREE.DataTexture(a.data,a.width,a.height),a.format=b.format,a.type=b.type,a.encoding=b.encoding,a.minFilter=b.minFilter,a.magFilter=b.magFilter,a.generateMipmaps=b.generateMipmaps,b.images[l]=a);6===t&&(b.needsUpdate=!0,r&&r(b))}},e,d)}var z=function(){function b(d){e[0]=d;d=f[0];var c=d>>16&32768,a=d>>12&2047,h=d>>23&255;if(103>h)return c;if(142<h)return c=c|31744|((255==h?0:1)&&d&8388607);if(113>h)return a|=2048,c|=
(a>>114-h)+(a>>113-h&1);c=c|h-112<<10|a>>1;return c+=a&1}var e=new Float32Array(1),f=new Int32Array(e.buffer);return function(d,c,a,e){var f=Math.pow(2,d[c+3]-128)/255;a[e+0]=b(d[c+0]*f);a[e+1]=b(d[c+1]*f);a[e+2]=b(d[c+2]*f)}}(),b=new THREE.CubeTexture;b.type=f;b.encoding=f===THREE.UnsignedByteType?THREE.RGBEEncoding:THREE.LinearEncoding;b.format=f===THREE.UnsignedByteType?THREE.RGBAFormat:THREE.RGBFormat;b.minFilter=b.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter;b.magFilter=
b.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter;b.generateMipmaps=b.encoding!==THREE.RGBEEncoding;b.anisotropy=0;for(var y=this.hdrLoader,t=0,e=0;e<q.length;e++)x(e,u,v,w);return b};