THREE.TAARenderPass=function(b,c,a){void 0===THREE.SSAARenderPass&&console.error("THREE.TAARenderPass relies on THREE.SSAARenderPass");THREE.SSAARenderPass.call(this,b,c,a);this.sampleLevel=0;this.accumulate=!1};THREE.TAARenderPass.JitterVectors=THREE.SSAARenderPass.JitterVectors;
THREE.TAARenderPass.prototype=Object.assign(Object.create(THREE.SSAARenderPass.prototype),{constructor:THREE.TAARenderPass,render:function(b,c,a,d){if(this.accumulate){var e=THREE.TAARenderPass.JitterVectors[5];this.sampleRenderTarget||(this.sampleRenderTarget=new THREE.WebGLRenderTarget(a.width,a.height,this.params),this.sampleRenderTarget.texture.name="TAARenderPass.sample");this.holdRenderTarget||(this.holdRenderTarget=new THREE.WebGLRenderTarget(a.width,a.height,this.params),this.holdRenderTarget.texture.name=
"TAARenderPass.hold");this.accumulate&&-1===this.accumulateIndex&&(THREE.SSAARenderPass.prototype.render.call(this,b,this.holdRenderTarget,a,d),this.accumulateIndex=0);d=b.autoClear;b.autoClear=!1;var f=1/e.length;if(0<=this.accumulateIndex&&this.accumulateIndex<e.length){this.copyUniforms.opacity.value=f;this.copyUniforms.tDiffuse.value=c.texture;for(var k=Math.pow(2,this.sampleLevel),g=0;g<k;g++){var h=e[this.accumulateIndex];this.camera.setViewOffset&&this.camera.setViewOffset(a.width,a.height,
.0625*h[0],.0625*h[1],a.width,a.height);b.render(this.scene,this.camera,c,!0);b.render(this.scene2,this.camera2,this.sampleRenderTarget,0===this.accumulateIndex);this.accumulateIndex++;if(this.accumulateIndex>=e.length)break}this.camera.clearViewOffset&&this.camera.clearViewOffset()}a=this.accumulateIndex*f;0<a&&(this.copyUniforms.opacity.value=1,this.copyUniforms.tDiffuse.value=this.sampleRenderTarget.texture,b.render(this.scene2,this.camera2,c,!0));1>a&&(this.copyUniforms.opacity.value=1-a,this.copyUniforms.tDiffuse.value=
this.holdRenderTarget.texture,b.render(this.scene2,this.camera2,c,0===a));b.autoClear=d}else THREE.SSAARenderPass.prototype.render.call(this,b,c,a,d),this.accumulateIndex=-1}});