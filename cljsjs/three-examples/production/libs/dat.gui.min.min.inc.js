!function(d,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dat=e():d.dat=e()}(this,function(){return function(d){function e(c){if(a[c])return a[c].exports;var l=a[c]={exports:{},id:c,loaded:!1};return d[c].call(l.exports,l,l.exports,e),l.loaded=!0,l.exports}var a={};return e.m=d,e.c=a,e.p="",e(0)}([function(d,e,a){e=a(1);d.exports=(e&&e.__esModule?e:{"default":e})["default"]},function(d,e,
a){function c(b){return b&&b.__esModule?b:{"default":b}}e.__esModule=!0;d=a(2);d=c(d);var l=a(6),l=c(l),f=a(3),f=c(f),h=a(7),h=c(h),b=a(8),b=c(b),g=a(10),g=c(g),p=a(11),p=c(p),m=a(12),m=c(m),x=a(13),x=c(x),t=a(14),t=c(t),y=a(15),y=c(y),B=a(16),B=c(B),v=a(9),v=c(v);a=a(17);a=c(a);e["default"]={color:{Color:d["default"],math:l["default"],interpret:f["default"]},controllers:{Controller:h["default"],BooleanController:b["default"],OptionController:g["default"],StringController:p["default"],NumberController:m["default"],
NumberControllerBox:x["default"],NumberControllerSlider:t["default"],FunctionController:y["default"],ColorController:B["default"]},dom:{dom:v["default"]},gui:{GUI:a["default"]},GUI:a["default"]}},function(d,e,a){function c(b){return b&&b.__esModule?b:{"default":b}}function l(b,g,a){Object.defineProperty(b,g,{get:function(){return"RGB"===this.__state.space?this.__state[g]:(m.recalculateRGB(this,g,a),this.__state[g])},set:function(b){"RGB"!==this.__state.space&&(m.recalculateRGB(this,g,a),this.__state.space=
"RGB");this.__state[g]=b}})}function f(b,g){Object.defineProperty(b,g,{get:function(){return"HSV"===this.__state.space?this.__state[g]:(m.recalculateHSV(this),this.__state[g])},set:function(b){"HSV"!==this.__state.space&&(m.recalculateHSV(this),this.__state.space="HSV");this.__state[g]=b}})}e.__esModule=!0;d=a(3);var h=c(d);d=a(6);var b=c(d);d=a(4);var g=c(d);a=a(5);var p=c(a),m=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.__state=
h["default"].apply(this,arguments),!1===this.__state)throw Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return b.prototype.toString=function(){return(0,g["default"])(this)},b.prototype.toHexString=function(){return(0,g["default"])(this,!0)},b.prototype.toOriginal=function(){return this.__state.conversion.write(this)},b}();m.recalculateRGB=function(g,a,c){if("HEX"===g.__state.space)g.__state[a]=b["default"].component_from_hex(g.__state.hex,c);else{if("HSV"!==g.__state.space)throw Error("Corrupted color state");
p["default"].extend(g.__state,b["default"].hsv_to_rgb(g.__state.h,g.__state.s,g.__state.v))}};m.recalculateHSV=function(g){var a=b["default"].rgb_to_hsv(g.r,g.g,g.b);p["default"].extend(g.__state,{s:a.s,v:a.v});p["default"].isNaN(a.h)?p["default"].isUndefined(g.__state.h)&&(g.__state.h=0):g.__state.h=a.h};m.COMPONENTS="r g b h s v hex a".split(" ");l(m.prototype,"r",2);l(m.prototype,"g",1);l(m.prototype,"b",0);f(m.prototype,"h");f(m.prototype,"s");f(m.prototype,"v");Object.defineProperty(m.prototype,
"a",{get:function(){return this.__state.a},set:function(b){this.__state.a=b}});Object.defineProperty(m.prototype,"hex",{get:function(){return this.__state.hex=b["default"].rgb_to_hex(this.r,this.g,this.b),this.__state.hex},set:function(b){this.__state.space="HEX";this.__state.hex=b}});e["default"]=m},function(d,e,a){e.__esModule=!0;d=(d=a(4))&&d.__esModule?d:{"default":d};var c=(a=a(5))&&a.__esModule?a:{"default":a},l=[{litmus:c["default"].isString,conversions:{THREE_CHAR_HEX:{read:function(b){b=
b.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString()+b[1].toString()+b[2].toString()+b[2].toString()+b[3].toString()+b[3].toString(),0)}},write:d["default"]},SIX_CHAR_HEX:{read:function(b){b=b.match(/^#([A-F0-9]{6})$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString(),0)}},write:d["default"]},CSS_RGB:{read:function(b){b=b.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),
b:parseFloat(b[3])}},write:d["default"]},CSS_RGBA:{read:function(b){b=b.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),b:parseFloat(b[3]),a:parseFloat(b[4])}},write:d["default"]}}},{litmus:c["default"].isNumber,conversions:{HEX:{read:function(b){return{space:"HEX",hex:b,conversionName:"HEX"}},write:function(b){return b.hex}}}},{litmus:c["default"].isArray,conversions:{RGB_ARRAY:{read:function(b){return 3===b.length&&
{space:"RGB",r:b[0],g:b[1],b:b[2]}},write:function(b){return[b.r,b.g,b.b]}},RGBA_ARRAY:{read:function(b){return 4===b.length&&{space:"RGB",r:b[0],g:b[1],b:b[2],a:b[3]}},write:function(b){return[b.r,b.g,b.b,b.a]}}}},{litmus:c["default"].isObject,conversions:{RGBA_OBJ:{read:function(b){return!!(c["default"].isNumber(b.r)&&c["default"].isNumber(b.g)&&c["default"].isNumber(b.b)&&c["default"].isNumber(b.a))&&{space:"RGB",r:b.r,g:b.g,b:b.b,a:b.a}},write:function(b){return{r:b.r,g:b.g,b:b.b,a:b.a}}},RGB_OBJ:{read:function(b){return!!(c["default"].isNumber(b.r)&&
c["default"].isNumber(b.g)&&c["default"].isNumber(b.b))&&{space:"RGB",r:b.r,g:b.g,b:b.b}},write:function(b){return{r:b.r,g:b.g,b:b.b}}},HSVA_OBJ:{read:function(b){return!!(c["default"].isNumber(b.h)&&c["default"].isNumber(b.s)&&c["default"].isNumber(b.v)&&c["default"].isNumber(b.a))&&{space:"HSV",h:b.h,s:b.s,v:b.v,a:b.a}},write:function(b){return{h:b.h,s:b.s,v:b.v,a:b.a}}},HSV_OBJ:{read:function(b){return!!(c["default"].isNumber(b.h)&&c["default"].isNumber(b.s)&&c["default"].isNumber(b.v))&&{space:"HSV",
h:b.h,s:b.s,v:b.v}},write:function(b){return{h:b.h,s:b.s,v:b.v}}}}}],f=void 0,h=void 0;e["default"]=function(){h=!1;var b=1<arguments.length?c["default"].toArray(arguments):arguments[0];return c["default"].each(l,function(g){if(g.litmus(b))return c["default"].each(g.conversions,function(g,a){if(f=g.read(b),!1===h&&!1!==f)return h=f,f.conversionName=a,f.conversion=g,c["default"].BREAK}),c["default"].BREAK}),h}},function(d,e){e.__esModule=!0;e["default"]=function(a,c){var d=a.__state.conversionName.toString(),
f=Math.round(a.r),h=Math.round(a.g),b=Math.round(a.b),g=a.a,p=Math.round(a.h),m=a.s.toFixed(1),e=a.v.toFixed(1);if(c||"THREE_CHAR_HEX"===d||"SIX_CHAR_HEX"===d){for(d=a.hex.toString(16);6>d.length;)d="0"+d;return"#"+d}return"CSS_RGB"===d?"rgb("+f+","+h+","+b+")":"CSS_RGBA"===d?"rgba("+f+","+h+","+b+","+g+")":"HEX"===d?"0x"+a.hex.toString(16):"RGB_ARRAY"===d?"["+f+","+h+","+b+"]":"RGBA_ARRAY"===d?"["+f+","+h+","+b+","+g+"]":"RGB_OBJ"===d?"{r:"+f+",g:"+h+",b:"+b+"}":"RGBA_OBJ"===d?"{r:"+f+",g:"+h+",b:"+
b+",a:"+g+"}":"HSV_OBJ"===d?"{h:"+p+",s:"+m+",v:"+e+"}":"HSVA_OBJ"===d?"{h:"+p+",s:"+m+",v:"+e+",a:"+g+"}":"unknown format"}},function(d,e){e.__esModule=!0;var a=Array.prototype.forEach,c=Array.prototype.slice,l={BREAK:{},extend:function(a){return this.each(c.call(arguments,1),function(c){(this.isObject(c)?Object.keys(c):[]).forEach(function(b){this.isUndefined(c[b])||(a[b]=c[b])}.bind(this))},this),a},defaults:function(a){return this.each(c.call(arguments,1),function(c){(this.isObject(c)?Object.keys(c):
[]).forEach(function(b){this.isUndefined(a[b])&&(a[b]=c[b])}.bind(this))},this),a},compose:function(){var a=c.call(arguments);return function(){for(var d=c.call(arguments),b=a.length-1;0<=b;b--)d=[a[b].apply(this,d)];return d[0]}},each:function(c,d,b){if(c)if(a&&c.forEach&&c.forEach===a)c.forEach(d,b);else if(c.length===c.length+0)for(var g=void 0,p=void 0,g=0,p=c.length;g<p&&!(g in c&&d.call(b,c[g],g)===this.BREAK);g++);else for(g in c)if(d.call(b,c[g],g)===this.BREAK)break},defer:function(a){setTimeout(a,
0)},debounce:function(a,c){var b=void 0;return function(){var g=arguments,p=!b;clearTimeout(b);b=setTimeout(function(){b=null},c);p&&a.apply(this,g)}},toArray:function(a){return a.toArray?a.toArray():c.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){function c(b){return a.apply(this,arguments)}return c.toString=function(){return a.toString()},c}(function(a){return isNaN(a)}),isArray:Array.isArray||function(a){return a.constructor===Array},
isObject:function(a){return a===Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a||!0===a},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)}};e["default"]=l},function(d,e){e.__esModule=!0;var a=void 0;e["default"]={hsv_to_rgb:function(a,d,f){var h=a/60-Math.floor(a/60),b=f*(1-d),g=f*(1-h*d);d=f*(1-(1-h)*d);a=[[f,d,b],[g,f,b],[b,f,d],[b,g,f],[d,b,f],[f,b,g]][Math.floor(a/60)%6];return{r:255*a[0],
g:255*a[1],b:255*a[2]}},rgb_to_hsv:function(a,d,f){var h=Math.max(a,d,f),b=h-Math.min(a,d,f),g=void 0,p=void 0;return 0===h?{h:NaN,s:0,v:0}:(p=b/h,g=a===h?(d-f)/b:d===h?2+(f-a)/b:4+(a-d)/b,g/=6,0>g&&(g+=1),{h:360*g,s:p,v:h/255})},rgb_to_hex:function(a,d,f){a=this.hex_with_component(0,2,a);return a=this.hex_with_component(a,1,d),this.hex_with_component(a,0,f)},component_from_hex:function(a,d){return a>>8*d&255},hex_with_component:function(c,d,f){return f<<(a=8*d)|c&~(255<<a)}}},function(d,e){e.__esModule=
!0;var a=function(){function a(d,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.initialValue=d[f];this.domElement=document.createElement("div");this.object=d;this.property=f;this.__onFinishChange=this.__onChange=void 0}return a.prototype.onChange=function(a){return this.__onChange=a,this},a.prototype.onFinishChange=function(a){return this.__onFinishChange=a,this},a.prototype.setValue=function(a){return this.object[this.property]=a,this.__onChange&&this.__onChange.call(this,
a),this.updateDisplay(),this},a.prototype.getValue=function(){return this.object[this.property]},a.prototype.updateDisplay=function(){return this},a.prototype.isModified=function(){return this.initialValue!==this.getValue()},a}();e["default"]=a},function(d,e,a){function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e.__esModule=!0;d=(d=a(7))&&d.__esModule?d:{"default":d};var f=(a=a(9))&&a.__esModule?a:{"default":a};a=function(a){function b(g,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m=c(this,a.call(this,g,d));return m.__prev=m.getValue(),m.__checkbox=document.createElement("input"),
m.__checkbox.setAttribute("type","checkbox"),f["default"].bind(m.__checkbox,"change",function(){m.setValue(!m.__prev)},!1),m.domElement.appendChild(m.__checkbox),m.updateDisplay(),m}return l(b,a),b.prototype.setValue=function(b){b=a.prototype.setValue.call(this,b);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),b},b.prototype.updateDisplay=function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=
!0):this.__checkbox.checked=!1,a.prototype.updateDisplay.call(this)},b}(d["default"]);e["default"]=a},function(d,e,a){function c(b){if("0"===b||l["default"].isUndefined(b))return 0;b=b.match(h);return l["default"].isNull(b)?0:parseFloat(b[1])}e.__esModule=!0;var l=(d=a(5))&&d.__esModule?d:{"default":d},f={};l["default"].each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(b,a){l["default"].each(b,function(b){f[b]=a})});
var h=/(\d+(\.\d+)?)px/,b={makeSelectable:function(b,a){void 0!==b&&void 0!==b.style&&(b.onselectstart=a?function(){return!1}:function(){},b.style.MozUserSelect=a?"auto":"none",b.style.KhtmlUserSelect=a?"auto":"none",b.unselectable=a?"on":"off")},makeFullscreen:function(b,a,c){l["default"].isUndefined(a)&&(a=!0);l["default"].isUndefined(c)&&(c=!0);b.style.position="absolute";a&&(b.style.left=0,b.style.right=0);c&&(b.style.top=0,b.style.bottom=0)},fakeEvent:function(b,a,c,d){c=c||{};var h=f[a];if(!h)throw Error("Event type "+
a+" not supported.");var e=document.createEvent(h);switch(h){case "MouseEvents":e.initMouseEvent(a,c.bubbles||!1,c.cancelable||!0,window,c.clickCount||1,0,0,c.x||c.clientX||0,c.y||c.clientY||0,!1,!1,!1,!1,0,null);break;case "KeyboardEvents":h=e.initKeyboardEvent||e.initKeyEvent;l["default"].defaults(c,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0});h(a,c.bubbles||!1,c.cancelable,window,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.keyCode,c.charCode);break;
default:e.initEvent(a,c.bubbles||!1,c.cancelable||!0)}l["default"].defaults(e,d);b.dispatchEvent(e)},bind:function(a,c,d,h){return a.addEventListener?a.addEventListener(c,d,h||!1):a.attachEvent&&a.attachEvent("on"+c,d),b},unbind:function(a,c,d,h){return a.removeEventListener?a.removeEventListener(c,d,h||!1):a.detachEvent&&a.detachEvent("on"+c,d),b},addClass:function(a,c){if(void 0===a.className)a.className=c;else if(a.className!==c){var d=a.className.split(/ +/);-1===d.indexOf(c)&&(d.push(c),a.className=
d.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return b},removeClass:function(a,c){if(c)if(a.className===c)a.removeAttribute("class");else{var d=a.className.split(/ +/),h=d.indexOf(c);-1!==h&&(d.splice(h,1),a.className=d.join(" "))}else a.className=void 0;return b},hasClass:function(b,a){return(new RegExp("(?:^|\\s+)"+a+"(?:\\s+|$)")).test(b.className)||!1},getWidth:function(b){b=getComputedStyle(b);return c(b["border-left-width"])+c(b["border-right-width"])+c(b["padding-left"])+c(b["padding-right"])+
c(b.width)},getHeight:function(b){b=getComputedStyle(b);return c(b["border-top-width"])+c(b["border-bottom-width"])+c(b["padding-top"])+c(b["padding-bottom"])+c(b.height)},getOffset:function(b){var a={left:0,top:0};if(b.offsetParent){do a.left+=b.offsetLeft,a.top+=b.offsetTop,b=b.offsetParent;while(b)}return a},isActive:function(b){return b===document.activeElement&&(b.type||b.href)}};e["default"]=b},function(d,e,a){function c(b){return b&&b.__esModule?b:{"default":b}}function l(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!=typeof a&&"function"!=typeof a?b:a}function f(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}e.__esModule=!0;d=a(7);d=c(d);var h=a(9),b=c(h);a=a(5);var g=c(a);a=function(a){function c(d,h,f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var e=l(this,a.call(this,d,h)),v=f;return e.__select=document.createElement("select"),g["default"].isArray(v)&&!function(){var b={};g["default"].each(v,function(a){b[a]=a});v=b}(),g["default"].each(v,function(b,a){var c=document.createElement("option");c.innerHTML=a;c.setAttribute("value",b);e.__select.appendChild(c)}),e.updateDisplay(),b["default"].bind(e.__select,"change",function(){e.setValue(this.options[this.selectedIndex].value)}),e.domElement.appendChild(e.__select),e}return f(c,a),c.prototype.setValue=
function(b){b=a.prototype.setValue.call(this,b);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),b},c.prototype.updateDisplay=function(){return b["default"].isActive(this.__select)?this:(this.__select.value=this.getValue(),a.prototype.updateDisplay.call(this))},c}(d["default"]);e["default"]=a},function(d,e,a){function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:
b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e.__esModule=!0;d=(d=a(7))&&d.__esModule?d:{"default":d};var f=(a=a(9))&&a.__esModule?a:{"default":a};a=function(a){function b(d,e){function m(){t.setValue(t.__input.value)}if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var l=c(this,a.call(this,d,e)),t=l;return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),f["default"].bind(l.__input,"keyup",m),f["default"].bind(l.__input,"change",m),f["default"].bind(l.__input,"blur",function(){t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),f["default"].bind(l.__input,"keydown",function(b){13===b.keyCode&&this.blur()}),l.updateDisplay(),l.domElement.appendChild(l.__input),
l}return l(b,a),b.prototype.updateDisplay=function(){return f["default"].isActive(this.__input)||(this.__input.value=this.getValue()),a.prototype.updateDisplay.call(this)},b}(d["default"]);e["default"]=a},function(d,e,a){function c(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function l(a){a=a.toString();return-1<a.indexOf(".")?a.length-a.indexOf(".")-1:0}e.__esModule=!0;d=(d=a(7))&&d.__esModule?d:{"default":d};var f=(a=a(5))&&a.__esModule?a:{"default":a};a=function(a){function b(c,d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;e=e||{};return c.__min=
e.min,c.__max=e.max,c.__step=e.step,f["default"].isUndefined(c.__step)?0===c.initialValue?c.__impliedStep=1:c.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(c.initialValue))/Math.LN10))/10:c.__impliedStep=c.__step,c.__precision=l(c.__impliedStep),c}return c(b,a),b.prototype.setValue=function(b){return void 0!==this.__min&&b<this.__min?b=this.__min:void 0!==this.__max&&b>this.__max&&(b=this.__max),void 0!==this.__step&&0!==b%this.__step&&(b=Math.round(b/this.__step)*this.__step),a.prototype.setValue.call(this,
b)},b.prototype.min=function(b){return this.__min=b,this},b.prototype.max=function(b){return this.__max=b,this},b.prototype.step=function(b){return this.__step=b,this.__impliedStep=b,this.__precision=l(b),this},b}(d["default"]);e["default"]=a},function(d,e,a){function c(b){return b&&b.__esModule?b:{"default":b}}function l(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?b:a}function f(b,a){if("function"!=
typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}e.__esModule=!0;d=a(12);d=c(d);var h=a(9),b=c(h);a=a(5);var g=c(a);a=function(a){function c(d,e,f){function h(){z.__onFinishChange&&z.__onFinishChange.call(z,z.getValue())}function v(b){var a=F-b.clientY;z.setValue(z.getValue()+
a*z.__impliedStep);F=b.clientY}function q(){b["default"].unbind(window,"mousemove",v);b["default"].unbind(window,"mouseup",q);h()}if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");d=l(this,a.call(this,d,e,f));d.__truncationSuspended=!1;var z=d,F=void 0;return d.__input=document.createElement("input"),d.__input.setAttribute("type","text"),b["default"].bind(d.__input,"change",function(){var b=parseFloat(z.__input.value);g["default"].isNaN(b)||z.setValue(b)}),b["default"].bind(d.__input,
"blur",function(){h()}),b["default"].bind(d.__input,"mousedown",function(a){b["default"].bind(window,"mousemove",v);b["default"].bind(window,"mouseup",q);F=a.clientY}),b["default"].bind(d.__input,"keydown",function(b){13===b.keyCode&&(z.__truncationSuspended=!0,this.blur(),z.__truncationSuspended=!1,h())}),d.updateDisplay(),d.domElement.appendChild(d.__input),d}return f(c,a),c.prototype.updateDisplay=function(){var b=this.__input,c;if(this.__truncationSuspended)c=this.getValue();else{c=this.getValue();
var d=Math.pow(10,this.__precision);c=Math.round(c*d)/d}return b.value=c,a.prototype.updateDisplay.call(this)},c}(d["default"]);e["default"]=a},function(d,e,a){function c(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?b:a}function l(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,
{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function f(b,a,c,d,e){return d+(b-a)/(c-a)*(e-d)}e.__esModule=!0;d=(d=a(12))&&d.__esModule?d:{"default":d};var h=(a=a(9))&&a.__esModule?a:{"default":a};a=function(b){function a(d,e,l,t,y){function B(b){b.preventDefault();var a=q.__background.getBoundingClientRect();return q.setValue(f(b.clientX,a.left,a.right,q.__min,q.__max)),!1}function v(){h["default"].unbind(window,
"mousemove",B);h["default"].unbind(window,"mouseup",v);q.__onFinishChange&&q.__onFinishChange.call(q,q.getValue())}if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var q=d=c(this,b.call(this,d,e,{min:l,max:t,step:y}));return d.__background=document.createElement("div"),d.__foreground=document.createElement("div"),h["default"].bind(d.__background,"mousedown",function(b){document.activeElement.blur();h["default"].bind(window,"mousemove",B);h["default"].bind(window,"mouseup",
v);B(b)}),h["default"].addClass(d.__background,"slider"),h["default"].addClass(d.__foreground,"slider-fg"),d.updateDisplay(),d.__background.appendChild(d.__foreground),d.domElement.appendChild(d.__background),d}return l(a,b),a.prototype.updateDisplay=function(){var a=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*a+"%",b.prototype.updateDisplay.call(this)},a}(d["default"]);e["default"]=a},function(d,e,a){function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}e.__esModule=!0;d=(d=a(7))&&d.__esModule?d:{"default":d};var f=(a=a(9))&&a.__esModule?a:{"default":a};a=function(a){function b(d,e,
l){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var x=c(this,a.call(this,d,e));return x.__button=document.createElement("div"),x.__button.innerHTML=void 0===l?"Fire":l,f["default"].bind(x.__button,"click",function(a){return a.preventDefault(),x.fire(),!1}),f["default"].addClass(x.__button,"button"),x.domElement.appendChild(x.__button),x}return l(b,a),b.prototype.fire=function(){this.__onChange&&this.__onChange.call(this);this.getValue().call(this.object);this.__onFinishChange&&
this.__onFinishChange.call(this,this.getValue())},b}(d["default"]);e["default"]=a},function(d,e,a){function c(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b,c,d){a.style.background="";t["default"].each(y,function(e){a.style.cssText+="background: "+e+"linear-gradient("+b+", "+c+" 0%, "+d+" 100%); "})}function b(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}e.__esModule=!0;d=a(7);d=c(d);var g=a(9),p=c(g),g=a(2),m=c(g),g=a(3),x=c(g);a=
a(5);var t=c(a);a=function(a){function c(d,e){function f(a){G(a);p["default"].bind(window,"mousemove",G);p["default"].bind(window,"mouseup",g)}function g(){p["default"].unbind(window,"mousemove",G);p["default"].unbind(window,"mouseup",g);H()}function y(){var a=(0,x["default"])(this.value);!1!==a?(w.__color.__state=a,w.setValue(w.__color.toOriginal())):this.value=w.__color.toString()}function K(){p["default"].unbind(window,"mousemove",C);p["default"].unbind(window,"mouseup",K);H()}function H(){w.__onFinishChange&&
w.__onFinishChange.call(w,w.__color.toOriginal())}function G(a){a.preventDefault();var b=w.__saturation_field.getBoundingClientRect(),c=(a.clientX-b.left)/(b.right-b.left);a=1-(a.clientY-b.top)/(b.bottom-b.top);return 1<a?a=1:0>a&&(a=0),1<c?c=1:0>c&&(c=0),w.__color.v=a,w.__color.s=c,w.setValue(w.__color.toOriginal()),!1}function C(a){a.preventDefault();var b=w.__hue_field.getBoundingClientRect();a=1-(a.clientY-b.top)/(b.bottom-b.top);return 1<a?a=1:0>a&&(a=0),w.__color.h=360*a,w.setValue(w.__color.toOriginal()),
!1}if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=l(this,a.call(this,d,e));n.__color=new m["default"](n.getValue());n.__temp=new m["default"](0);var w=n;n.domElement=document.createElement("div");p["default"].makeSelectable(n.domElement,!1);n.__selector=document.createElement("div");n.__selector.className="selector";n.__saturation_field=document.createElement("div");n.__saturation_field.className="saturation-field";n.__field_knob=document.createElement("div");
n.__field_knob.className="field-knob";n.__field_knob_border="2px solid ";n.__hue_knob=document.createElement("div");n.__hue_knob.className="hue-knob";n.__hue_field=document.createElement("div");n.__hue_field.className="hue-field";n.__input=document.createElement("input");n.__input.type="text";n.__input_textShadow="0 1px 1px ";p["default"].bind(n.__input,"keydown",function(a){13===a.keyCode&&y.call(this)});p["default"].bind(n.__input,"blur",y);p["default"].bind(n.__selector,"mousedown",function(){p["default"].addClass(this,
"drag").bind(window,"mouseup",function(){p["default"].removeClass(w.__selector,"drag")})});var k=document.createElement("div");return t["default"].extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),t["default"].extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(.5>n.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),
t["default"].extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),t["default"].extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),t["default"].extend(k.style,{width:"100%",height:"100%",background:"none"}),h(k,"top","rgba(0,0,0,0)","#000"),t["default"].extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",
position:"absolute",top:"3px",right:"3px"}),b(n.__hue_field),t["default"].extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),p["default"].bind(n.__saturation_field,"mousedown",f),p["default"].bind(n.__field_knob,"mousedown",f),p["default"].bind(n.__hue_field,"mousedown",function(a){C(a);p["default"].bind(window,"mousemove",C);p["default"].bind(window,"mouseup",K)}),n.__saturation_field.appendChild(k),
n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}return f(c,a),c.prototype.updateDisplay=function(){var a=(0,x["default"])(this.getValue());if(!1!==a){var b=!1;t["default"].each(m["default"].COMPONENTS,function(c){if(!t["default"].isUndefined(a[c])&&!t["default"].isUndefined(this.__color.__state[c])&&
a[c]!==this.__color.__state[c])return b=!0,{}},this);b&&t["default"].extend(this.__color.__state,a)}t["default"].extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var c=.5>this.__color.v||.5<this.__color.s?255:0,d=255-c;t["default"].extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+c+","+c+","+c+")"});this.__hue_knob.style.marginTop=100*(1-this.__color.h/
360)+"px";this.__temp.s=1;this.__temp.v=1;h(this.__saturation_field,"left","#fff",this.__temp.toHexString());this.__input.value=this.__color.toString();t["default"].extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+c+","+c+","+c+")",textShadow:this.__input_textShadow+"rgba("+d+","+d+","+d+",.7)"})},c}(d["default"]);var y=["-moz-","-o-","-webkit-","-ms-",""];e["default"]=a},function(d,e,a){function c(a){return a&&a.__esModule?a:{"default":a}}function l(a,b,c){var d=
document.createElement("li");return b&&d.appendChild(b),c?a.__ul.insertBefore(d,c):a.__ul.appendChild(d),a.onResize(),d}function f(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];b?c.innerHTML=c.value+"*":c.innerHTML=c.value}function h(a,b,c){if(c.__li=b,c.__gui=a,r["default"].extend(c,{options:function(b){if(1<arguments.length){var d=c.__li.nextElementSibling;return c.remove(),g(a,c.object,c.property,{before:d,factoryArgs:[r["default"].toArray(arguments)]})}if(r["default"].isArray(b)||
r["default"].isObject(b))return d=c.__li.nextElementSibling,c.remove(),g(a,c.object,c.property,{before:d,factoryArgs:[b]})},name:function(a){return c.__li.firstElementChild.firstElementChild.innerHTML=a,c},listen:function(){return c.__gui.listen(c),c},remove:function(){return c.__gui.remove(c),c}}),c instanceof G["default"])!function(){var a=new H["default"](c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});r["default"].each(["updateDisplay","onChange","onFinishChange","step"],function(b){var d=
c[b],e=a[b];c[b]=a[b]=function(){var b=Array.prototype.slice.call(arguments);return e.apply(a,b),d.apply(c,b)}});k["default"].addClass(b,"has-slider");c.domElement.insertBefore(a.domElement,c.domElement.firstElementChild)}();else if(c instanceof H["default"]){var d=function(b){if(r["default"].isNumber(c.__min)&&r["default"].isNumber(c.__max)){b=c.__li.firstElementChild.firstElementChild.innerHTML;var d=-1<c.__gui.__listening.indexOf(c);c.remove();var e=g(a,c.object,c.property,{before:c.__li.nextElementSibling,
factoryArgs:[c.__min,c.__max,c.__step]});return e.name(b),d&&e.listen(),e}return b};c.min=r["default"].compose(d,c.min);c.max=r["default"].compose(d,c.max)}else c instanceof P["default"]?(k["default"].bind(b,"click",function(){k["default"].fakeEvent(c.__checkbox,"click")}),k["default"].bind(c.__checkbox,"click",function(a){a.stopPropagation()})):c instanceof K["default"]?(k["default"].bind(b,"click",function(){k["default"].fakeEvent(c.__button,"click")}),k["default"].bind(b,"mouseover",function(){k["default"].addClass(c.__button,
"hover")}),k["default"].bind(b,"mouseout",function(){k["default"].removeClass(c.__button,"hover")})):c instanceof C["default"]&&(k["default"].addClass(b,"color"),c.updateDisplay=r["default"].compose(function(a){return b.style.borderLeftColor=c.__color.toString(),a},c.updateDisplay),c.updateDisplay());c.setValue=r["default"].compose(function(b){return a.getRoot().__preset_select&&c.isModified()&&f(a.getRoot(),!0),b},c.setValue)}function b(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);
if(-1!==d){var e=c.__rememberedObjectIndecesToControllers[d];if(void 0===e&&(e={},c.__rememberedObjectIndecesToControllers[d]=e),e[b.property]=b,c.load&&c.load.remembered){c=c.load.remembered;e=void 0;if(c[a.preset])e=c[a.preset];else{if(!c[I])return;e=c[I]}e[d]&&void 0!==e[d][b.property]&&(d=e[d][b.property],b.initialValue=d,b.setValue(d))}}}function g(a,c,d,e){if(void 0===c[d])throw Error('Object "'+c+'" has no property "'+d+'"');var f=void 0;e.color?f=new C["default"](c,d):(f=[c,d].concat(e.factoryArgs),
f=F["default"].apply(a,f));e.before instanceof O["default"]&&(e.before=e.before.__li);b(a,f);k["default"].addClass(f.domElement,"c");c=document.createElement("span");k["default"].addClass(c,"property-name");c.innerHTML=f.property;d=document.createElement("div");d.appendChild(c);d.appendChild(f.domElement);e=l(a,d,e.before);return k["default"].addClass(e,u.CLASS_CONTROLLER_ROW),f instanceof C["default"]?k["default"].addClass(e,"color"):k["default"].addClass(e,v(f.getValue())),h(a,e,f),a.__controllers.push(f),
f}function p(a,b,c){var d=document.createElement("option");d.innerHTML=b;d.value=b;a.__preset_select.appendChild(d);c&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function m(a){var b=a.__save_row=document.createElement("li");k["default"].addClass(a.domElement,"has-save");a.__ul.insertBefore(b,a.__ul.firstChild);k["default"].addClass(b,"save-row");var c=document.createElement("span");c.innerHTML="\x26nbsp;";k["default"].addClass(c,"button gears");var d=document.createElement("span");
d.innerHTML="Save";k["default"].addClass(d,"button");k["default"].addClass(d,"save");var e=document.createElement("span");e.innerHTML="New";k["default"].addClass(e,"button");k["default"].addClass(e,"save-as");var f=document.createElement("span");f.innerHTML="Revert";k["default"].addClass(f,"button");k["default"].addClass(f,"revert");var g=a.__preset_select=document.createElement("select");a.load&&a.load.remembered?r["default"].each(a.load.remembered,function(b,c){p(a,c,c===a.preset)}):p(a,I,!1);k["default"].bind(g,
"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(g);b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);D&&!function(){var b=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block";"true"===localStorage.getItem(document.location.href+".isLocal")&&c.setAttribute("checked","checked");
b.style.display=a.useLocalStorage?"block":"none";k["default"].bind(c,"change",function(){a.useLocalStorage=!a.useLocalStorage;b.style.display=a.useLocalStorage?"block":"none"})}();var h=document.getElementById("dg-new-constructor");k["default"].bind(h,"keydown",function(a){!a.metaKey||67!==a.which&&67!==a.keyCode||J.hide()});k["default"].bind(c,"click",function(){h.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);J.show();h.focus();h.select()});k["default"].bind(d,"click",function(){a.save()});
k["default"].bind(e,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)});k["default"].bind(f,"click",function(){a.revert()})}function x(a){function b(c){return c.preventDefault(),a.width+=e-c.clientX,a.onResize(),e=c.clientX,!1}function c(){k["default"].removeClass(a.__closeButton,u.CLASS_DRAG);k["default"].unbind(window,"mousemove",b);k["default"].unbind(window,"mouseup",c)}function d(f){return f.preventDefault(),e=f.clientX,k["default"].addClass(a.__closeButton,u.CLASS_DRAG),
k["default"].bind(window,"mousemove",b),k["default"].bind(window,"mouseup",c),!1}var e=void 0;a.__resize_handle=document.createElement("div");r["default"].extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});k["default"].bind(a.__resize_handle,"mousedown",d);k["default"].bind(a.__closeButton,"mousedown",d);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function t(a,b){a.domElement.style.width=b+"px";a.__save_row&&
a.autoPlace&&(a.__save_row.style.width=b+"px");a.__closeButton&&(a.__closeButton.style.width=b+"px")}function y(a,b){var c={};return r["default"].each(a.__rememberedObjects,function(d,e){var f={};r["default"].each(a.__rememberedObjectIndecesToControllers[e],function(a,c){f[c]=b?a.initialValue:a.getValue()});c[e]=f}),c}function B(a){0!==a.length&&n["default"].call(window,function(){B(a)});r["default"].each(a,function(a){a.updateDisplay()})}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};e=a(18);e=c(e);var q=a(19),z=c(q),q=a(20),F=c(q),q=a(7),O=c(q),q=a(8),P=c(q),q=a(15),K=c(q),q=a(13),H=c(q),q=a(14),G=c(q),q=a(16),C=c(q),q=a(21),n=c(q),q=a(22),w=c(q),q=a(9),k=c(q),q=a(5),r=c(q);a=a(23);a=c(a);e["default"].inject(a["default"]);var I="Default",D;try{D="localStorage"in window&&null!==window.localStorage}catch(Q){D=!1}var J=void 0,M=!0,E=void 0,L=!1,N=[],u=function A(a){function b(){var a=
c.getRoot();a.width+=1;r["default"].defer(function(){--a.width})}var c=this,d=a||{};this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);k["default"].addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];d=r["default"].defaults(d,{autoPlace:!0,width:A.DEFAULT_WIDTH});d=r["default"].defaults(d,{resizable:d.autoPlace,hideable:d.autoPlace});
r["default"].isUndefined(d.load)?d.load={preset:I}:d.preset&&(d.load.preset=d.preset);r["default"].isUndefined(d.parent)&&d.hideable&&N.push(this);d.resizable=r["default"].isUndefined(d.parent)&&d.resizable;d.autoPlace&&r["default"].isUndefined(d.scrollable)&&(d.scrollable=!0);var e=D&&"true"===localStorage.getItem(document.location.href+".isLocal"),f=void 0;if(Object.defineProperties(this,{parent:{get:function(){return d.parent}},scrollable:{get:function(){return d.scrollable}},autoPlace:{get:function(){return d.autoPlace}},
preset:{get:function(){return c.parent?c.getRoot().preset:d.load.preset},set:function(a){c.parent?c.getRoot().preset=a:d.load.preset=a;for(a=0;a<this.__preset_select.length;a++)this.__preset_select[a].value===this.preset&&(this.__preset_select.selectedIndex=a);c.revert()}},width:{get:function(){return d.width},set:function(a){d.width=a;t(c,a)}},name:{get:function(){return d.name},set:function(a){d.name=a;titleRowName&&(titleRowName.innerHTML=d.name)}},closed:{get:function(){return d.closed},set:function(a){d.closed=
a;d.closed?k["default"].addClass(c.__ul,A.CLASS_CLOSED):k["default"].removeClass(c.__ul,A.CLASS_CLOSED);this.onResize();c.__closeButton&&(c.__closeButton.innerHTML=a?A.TEXT_OPEN:A.TEXT_CLOSED)}},load:{get:function(){return d.load}},useLocalStorage:{get:function(){return e},set:function(a){D&&(e=a,a?k["default"].bind(window,"unload",f):k["default"].unbind(window,"unload",f),localStorage.setItem(document.location.href+".isLocal",a))}}}),r["default"].isUndefined(d.parent)){if(d.closed=!1,k["default"].addClass(this.domElement,
A.CLASS_MAIN),k["default"].makeSelectable(this.domElement,!1),D&&e)c.useLocalStorage=!0,(a=localStorage.getItem(document.location.href+".gui"))&&(d.load=JSON.parse(a));this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=A.TEXT_CLOSED;k["default"].addClass(this.__closeButton,A.CLASS_CLOSE_BUTTON);this.domElement.appendChild(this.__closeButton);k["default"].bind(this.__closeButton,"click",function(){c.closed=!c.closed})}else void 0===d.closed&&(d.closed=!0),a=document.createTextNode(d.name),
k["default"].addClass(a,"controller-name"),a=l(c,a),k["default"].addClass(this.__ul,A.CLASS_CLOSED),k["default"].addClass(a,"title"),k["default"].bind(a,"click",function(a){return a.preventDefault(),c.closed=!c.closed,!1}),d.closed||(this.closed=!1);d.autoPlace&&(r["default"].isUndefined(d.parent)&&(M&&(E=document.createElement("div"),k["default"].addClass(E,"dg"),k["default"].addClass(E,A.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(E),M=!1),E.appendChild(this.domElement),k["default"].addClass(this.domElement,
A.CLASS_AUTO_PLACE)),this.parent||t(c,d.width));this.__resizeHandler=function(){c.onResizeDebounced()};k["default"].bind(window,"resize",this.__resizeHandler);k["default"].bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler);k["default"].bind(this.__ul,"transitionend",this.__resizeHandler);k["default"].bind(this.__ul,"oTransitionEnd",this.__resizeHandler);this.onResize();d.resizable&&x(this);this.saveToLocalStorageIfPossible=f=function(){D&&"true"===localStorage.getItem(document.location.href+
".isLocal")&&localStorage.setItem(document.location.href+".gui",JSON.stringify(c.getSaveObject()))};d.parent||b()};u.toggleHide=function(){L=!L;r["default"].each(N,function(a){a.domElement.style.display=L?"none":""})};u.CLASS_AUTO_PLACE="a";u.CLASS_AUTO_PLACE_CONTAINER="ac";u.CLASS_MAIN="main";u.CLASS_CONTROLLER_ROW="cr";u.CLASS_TOO_TALL="taller-than-window";u.CLASS_CLOSED="closed";u.CLASS_CLOSE_BUTTON="close-button";u.CLASS_DRAG="drag";u.DEFAULT_WIDTH=245;u.TEXT_CLOSED="Close Controls";u.TEXT_OPEN=
"Open Controls";u._keydownHandler=function(a){"text"===document.activeElement.type||72!==a.which&&72!==a.keyCode||u.toggleHide()};k["default"].bind(window,"keydown",u._keydownHandler,!1);r["default"].extend(u.prototype,{add:function(a,b){return g(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return g(this,a,b,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.splice(this.__controllers.indexOf(a),1);var b=this;r["default"].defer(function(){b.onResize()})},
destroy:function(){this.autoPlace&&E.removeChild(this.domElement);k["default"].unbind(window,"keydown",u._keydownHandler,!1);k["default"].unbind(window,"resize",this.__resizeHandler);this.saveToLocalStorageIfPossible&&k["default"].unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(a){if(void 0!==this.__folders[a])throw Error('You already have a folder in this GUI by the name "'+a+'"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;this.load&&this.load.folders&&this.load.folders[a]&&
(b.closed=this.load.folders[a].closed,b.load=this.load.folders[a]);b=new u(b);this.__folders[a]=b;a=l(this,b.domElement);return k["default"].addClass(a,"folder"),b},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=k["default"].getOffset(a.__ul).top,c=0;r["default"].each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=k["default"].getHeight(b))});window.innerHeight-b-20<c?(k["default"].addClass(a.domElement,
u.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+"px"):(k["default"].removeClass(a.domElement,u.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&r["default"].defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},onResizeDebounced:r["default"].debounce(function(){this.onResize()},200),remember:function(){if(r["default"].isUndefined(J)&&(J=new w["default"],J.domElement.innerHTML=z["default"]),
this.parent)throw Error("You can only call remember on a top level GUI.");var a=this;r["default"].each(Array.prototype.slice.call(arguments),function(b){0===a.__rememberedObjects.length&&m(a);-1===a.__rememberedObjects.indexOf(b)&&a.__rememberedObjects.push(b)});this.autoPlace&&t(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;return a.closed=this.closed,0<this.__rememberedObjects.length&&(a.preset=this.preset,a.remembered||
(a.remembered={}),a.remembered[this.preset]=y(this)),a.folders={},r["default"].each(this.__folders,function(b,c){a.folders[c]=b.getSaveObject()}),a},save:function(){this.load.remembered||(this.load.remembered={});this.load.remembered[this.preset]=y(this);f(this,!1);this.saveToLocalStorageIfPossible()},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered[I]=y(this,!0));this.load.remembered[a]=y(this);this.preset=a;p(this,a,!0);this.saveToLocalStorageIfPossible()},
revert:function(a){r["default"].each(this.__controllers,function(c){this.getRoot().load.remembered?b(a||this.getRoot(),c):c.setValue(c.initialValue);c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())},this);r["default"].each(this.__folders,function(a){a.revert(a)});a||f(this.getRoot(),!1)},listen:function(a){var b=0===this.__listening.length;this.__listening.push(a);b&&B(this.__listening)},updateDisplay:function(){r["default"].each(this.__controllers,function(a){a.updateDisplay()});r["default"].each(this.__folders,
function(a){a.updateDisplay()})}});d.exports=u},function(d,e){d.exports={load:function(a,c){var d=c||document,e=d.createElement("link");e.type="text/css";e.rel="stylesheet";e.href=a;d.getElementsByTagName("head")[0].appendChild(e)},inject:function(a,c){var d=c||document,e=document.createElement("style");e.type="text/css";e.innerHTML=a;d=d.getElementsByTagName("head")[0];try{d.appendChild(e)}catch(h){}}}},function(d,e){d.exports="\x3cdiv id\x3ddg-save class\x3d\"dg dialogue\"\x3e Here's the new load parameter for your \x3ccode\x3eGUI\x3c/code\x3e's constructor: \x3ctextarea id\x3ddg-new-constructor\x3e\x3c/textarea\x3e \x3cdiv id\x3ddg-save-locally\x3e \x3cinput id\x3ddg-local-storage type\x3dcheckbox /\x3e Automatically save values to \x3ccode\x3elocalStorage\x3c/code\x3e on exit. \x3cdiv id\x3ddg-local-explain\x3eThe values saved to \x3ccode\x3elocalStorage\x3c/code\x3e will override those passed to \x3ccode\x3edat.GUI\x3c/code\x3e's constructor. This makes it easier to work incrementally, but \x3ccode\x3elocalStorage\x3c/code\x3e is fragile, and your friends may not see the same values you do. \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e"},
function(d,e,a){function c(a){return a&&a.__esModule?a:{"default":a}}e.__esModule=!0;d=a(10);var l=c(d);d=a(13);var f=c(d);d=a(14);var h=c(d);d=a(11);var b=c(d);d=a(15);var g=c(d);d=a(8);var p=c(d);a=a(5);var m=c(a);e["default"]=function(a,c,d,e,v){var q=a[c];return m["default"].isArray(d)||m["default"].isObject(d)?new l["default"](a,c,d):m["default"].isNumber(q)?m["default"].isNumber(d)&&m["default"].isNumber(e)?m["default"].isNumber(v)?new h["default"](a,c,d,e,v):new h["default"](a,c,d,e):m["default"].isNumber(v)?
new f["default"](a,c,{min:d,max:e,step:v}):new f["default"](a,c,{min:d,max:e}):m["default"].isString(q)?new b["default"](a,c):m["default"].isFunction(q)?new g["default"](a,c,""):m["default"].isBoolean(q)?new p["default"](a,c):null}},function(d,e){function a(a){setTimeout(a,1E3/60)}e.__esModule=!0;e["default"]=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||a},function(d,e,a){e.__esModule=
!0;var c=(d=a(9))&&d.__esModule?d:{"default":d},l=(a=a(5))&&a.__esModule?a:{"default":a};a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.backgroundElement=document.createElement("div");l["default"].extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"});c["default"].makeFullscreen(this.backgroundElement);
this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");l["default"].extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var d=this;c["default"].bind(this.backgroundElement,"click",function(){d.hide()})}return a.prototype.show=
function(){var a=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();l["default"].defer(function(){a.backgroundElement.style.opacity=1;a.domElement.style.opacity=1;a.domElement.style.webkitTransform="scale(1)"})},a.prototype.hide=function(){var a=this,b=function p(){a.domElement.style.display="none";a.backgroundElement.style.display="none";c["default"].unbind(a.domElement,
"webkitTransitionEnd",p);c["default"].unbind(a.domElement,"transitionend",p);c["default"].unbind(a.domElement,"oTransitionEnd",p)};c["default"].bind(this.domElement,"webkitTransitionEnd",b);c["default"].bind(this.domElement,"transitionend",b);c["default"].bind(this.domElement,"oTransitionEnd",b);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"},a.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-c["default"].getWidth(this.domElement)/
2+"px";this.domElement.style.top=window.innerHeight/2-c["default"].getHeight(this.domElement)/2+"px"},a}();e["default"]=a},function(d,e,a){e=d.exports=a(24)();e.push([d.id,".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save\x3eul{margin-top:27px}.dg.a.has-save\x3eul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li\x3e*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type\x3dtext]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type\x3dtext]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type\x3dcheckbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px Lucida Grande,sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg\x3d\x3d) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw\x3d\x3d) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw\x3d\x3d)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type\x3dtext]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type\x3dtext]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type\x3dtext]{background:#303030;outline:none}.dg .c input[type\x3dtext]:hover{background:#3c3c3c}.dg .c input[type\x3dtext]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}",
""])},function(d,e){d.exports=function(){var a=[];return a.toString=function(){for(var a=[],d=0;d<this.length;d++){var e=this[d];e[2]?a.push("@media "+e[2]+"{"+e[1]+"}"):a.push(e[1])}return a.join("")},a.i=function(c,d){"string"==typeof c&&(c=[[null,c,""]]);for(var e={},h=0;h<this.length;h++){var b=this[h][0];"number"==typeof b&&(e[b]=!0)}for(h=0;h<c.length;h++)b=c[h],"number"==typeof b[0]&&e[b[0]]||(d&&!b[2]?b[2]=d:d&&(b[2]="("+b[2]+") and ("+d+")"),a.push(b))},a}}])});