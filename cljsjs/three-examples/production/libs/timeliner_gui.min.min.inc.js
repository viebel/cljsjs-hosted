(function e(l,n,g){function w(a,m){if(!n[a]){if(!l[a]){var b="function"==typeof require&&require;if(!m&&b)return b(a,!0);if(f)return f(a,!0);b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b;}b=n[a]={exports:{}};l[a][0].call(b.exports,function(m){var d=l[a][1][m];return w(d?d:m)},b,b.exports,e,l,n,g)}return n[a].exports}for(var f="function"==typeof require&&require,q=0;q<g.length;q++)w(g[q]);return w})({1:[function(c,l,n){function g(g){var f=[];this["do"]=function(q){f.push(q)};
this.undo=function(q){f.splice(f.indexOf(q),1)};this.fire=function(){for(var q=0;q<f.length;q++)f[q].apply(g,arguments)}}"object"==typeof l&&(l.exports=g)},{}],2:[function(c,l,n){l.exports={name:"timeliner_gui",version:"0.0.2",description:"Timeliner GUI",main:"timeliner.js",scripts:{build:"browserify src/*.js --full-path\x3dfalse -o timeliner_gui.js",mini:"browserify src/*.js -g uglifyify --full-path\x3dfalse -o timeliner_gui.min.js",watch:"watchify src/*.js -o timeliner_gui.js -v",start:"npm run watch",
test:'echo "Error: no tests :(" \x26\x26 exit 1'},repository:{type:"git",url:"https://github.com/tschw/timeliner_gui.git"},keywords:["timeline","animation","keyframe","controls","gui"],author:"tschw (the fork)",contributors:["Joshua 'zz85' Koo (original author)"],license:"MIT",bugs:{url:"https://github.com/tschw/timeliner_gui/issues"},homepage:"https://github.com/tschw/timeliner_gui",devDependencies:{"do.js":"^1.0.0",uglifyify:"^2.6.0"}}},{}],3:[function(c,l,n){l.exports=function(){var g={};this.on=
function(c,f){c in g||(g[c]=[]);g[c].push(f)};this.fire=function(c){var f=Array.prototype.slice.call(arguments);f.shift();var q=g[c];if(q)for(var a=0;a<q.length;a++){var m=q[a];m.apply(m,f)}}}},{}],4:[function(c,l,n){var g=c("./layout_constants"),w=c("./layer_view"),f=c("./widget/icon_button"),q=c("./utils").style;c("./theme");c("./utils");var a=c("./widget/number");l.exports=function(m){function b(){r.fire("update.scale",6*Math.pow(100,t.value))}function F(){var a=m.controller.getChannelNames(),
d=m.currentTime;L.setValue(d);G.setValue(m.totalTime);L.paint();G.paint();for(var b=J.length;0<b--;)b>=a.length?(J[b].dom.style.display="none",S.push(J.pop())):(J[b].setState(a[b]),J[b].repaint(d))}var d=document.createElement("div"),h=document.createElement("div");h.style.cssText="margin: 0px; top: 0; left: 0; height: "+g.MARKER_TRACK_HEIGHT+"px";var v=document.createElement("div");q(v,{position:"absolute",top:g.MARKER_TRACK_HEIGHT+"px",left:0,right:0,bottom:0,overflow:"hidden"});d.appendChild(v);
var A=!1,c={width:"22px",height:"22px",padding:"2px"},l={width:"32px",padding:"3px 4px 3px 4px"},r=m.dispatcher,n=(m.controller,new f(16,"play","Play",r));q(n.dom,c,{marginTop:"2px"});n.onClick(function(a){a.preventDefault();r.fire("controls.toggle_play")});var E=new f(16,"stop","Stop",r);q(E.dom,c,{marginTop:"2px"});E.onClick(function(a){r.fire("controls.stop")});var t=document.createElement("input");t.type="range";t.value=0;t.min=-1;t.max=1;t.step=.125;q(t,{width:"80px",margin:"0px",marginLeft:"2px",
marginRight:"2px"});var z=0;t.addEventListener("mousedown",function(){z=1});t.addEventListener("mouseup",function(){z=0;b()});t.addEventListener("mousemove",function(){z&&b()});d.appendChild(h);var c={min:0,step:.125},L=new a(c),G=new a(c);L.onChange["do"](function(a,d){r.fire("time.update",a);L.paint()});G.onChange["do"](function(a,d){r.fire("totalTime.update",a);G.paint()});h.appendChild(L.dom);h.appendChild(document.createTextNode("/"));h.appendChild(G.dom);h.appendChild(n.dom);h.appendChild(E.dom);
h.appendChild(t);E=document.createElement("div");q(E,{marginTop:"4px"});h.appendChild(E);h=new f(16,"download_alt","Download animation",r);q(h.dom,l);E.appendChild(h.dom);h.onClick(function(){r.fire("export")});h=new f(16,"upload_alt","Upload animation",r);q(h.dom,l);E.appendChild(h.dom);h.onClick(function(){r.fire("openfile")});var J=[],S=[];this.layers=J;this.setControlStatus=function(a){(A=a)?(n.setIcon("pause"),n.setTip("Pause")):(n.setIcon("play"),n.setTip("Play"))};this.updateState=function(){var a,
d,b=m.controller.getChannelNames();for(a=0;a<b.length;a++){if(d=b[a],!J[a]){var h;S.length?(h=S.pop(),h.dom.style.display="block"):(h=new w(m,d),v.appendChild(h.dom));J.push(h)}J[a].setState(d)}};this.repaint=F;this.updateState();this.scrollTo=function(a){v.scrollTop=a*(v.scrollHeight-v.clientHeight)};this.dom=d;F()}},{"./layer_view":5,"./layout_constants":6,"./theme":7,"./utils":11,"./widget/icon_button":13,"./widget/number":14}],5:[function(c,l,n){var g=c("./theme"),w=c("./layout_constants"),f=
c("./utils");l.exports=function(c,a){var m=document.createElement("div"),b=document.createElement("span");b.style.cssText="font-size: 12px; padding: 4px;";var F=w.LINE_HEIGHT-1,d=document.createElement("button");d.innerHTML="\x26#9672;";d.style.cssText="background: none; font-size: 12px; padding: 0px; font-family: monospace; float: right; width: 20px; height: "+F+"px; border-style:none; outline: none;";d.addEventListener("click",function(d){c.dispatcher.fire("keyframe",a)});m.appendChild(b);m.appendChild(d);
m.style.cssText="margin: 0px; border-bottom:1px solid "+g.b+"; top: 0; left: 0; height: "+F+"px; line-height: "+F+"px; color: "+g.c;this.dom=m;var h=function(b){if(d.style.color=g.b,null!=b&&!c.draggingKeyframe&&null!=a){var m=c.controller.getChannelKeyTimes(a);0<=f.binarySearch(m,b)&&(d.style.color=g.c)}};this.repaint=h;this.setState=function(d){a=d;b.textContent=d;h()}}},{"./layout_constants":6,"./theme":7,"./utils":11}],6:[function(c,l,n){l.exports={LINE_HEIGHT:26,DIAMOND_SIZE:10,MARKER_TRACK_HEIGHT:60,
WIDTH:600,HEIGHT:200,LEFT_PANE_WIDTH:250,TIME_SCALE:60}},{}],7:[function(c,l,n){l.exports={a:"#343434",b:"#535353",c:"#b8b8b8",d:"#d6d6d6"}},{}],8:[function(c,l,n){n=c("./layout_constants");var g=c("./theme"),w=c("./utils"),f=w.proxy_ctx,q=n.LINE_HEIGHT,a=n.DIAMOND_SIZE,m=n.MARKER_TRACK_HEIGHT,b=n.TIME_SCALE,F=0,d,h,v;d=b/60;h=2*d;v=8*d;l.exports=function(c){function l(d,b,m){var B=this,h=!1;this.time=d;this.path=function(d){d.beginPath().moveTo(b,m).lineTo(b+a/2,m+a/2).lineTo(b,m+a).lineTo(b-a/2,
m+a/2).closePath()};this.paint=function(a){B.path(a);h?a.fillStyle("yellow"):a.fillStyle(g.c);a.fill().stroke()};this.mouseover=function(){h=!0;K.style.cursor="move";B.paint(T)};this.mouseout=function(){h=!1;K.style.cursor="default";B.paint(T)};this.mousedrag=function(a,d){if(void 0!==Q){var b=z(a.offsetx),b=Math.max(b-M,-M),m=d.shiftKey;b&&(c.draggingKeyframe=!0,c.controller.moveKeyframe(Q,M,b,m),M+=b,u=!0)}}}function n(){p=N.length=0;for(U=G.length;U>=p;p++)k.strokeStyle=g.b,k.beginPath(),I=p*q,
I=~~I-.5,T.moveTo(0,I).lineTo(width,I).stroke();for(p=0;U>p;p++){var d=c.controller.getChannelKeyTimes(G[p]);I=p*q;for(var b=0;b<d.length;b++){var m=d[b];N.push(new l(m,L(m),I+.5*q-a/2))}}p=0;for(U=N.length;U>p;p++)N[p].paint(T)}function r(a){b!==a&&(b=a,d=b/60,h=2*d,v=8*d)}function V(){var a,b=W;W=null;for(p=N.length;0<p--;)if(a=N[p],a.path(T),k.isPointInPath(aa.x*R,aa.y*R)){W=a;break}b&&b!=W&&(a=b,a.mouseout&&a.mouseout());W&&(a=W,a.mouseover&&a.mouseover(),ba&&(D=a))}function E(){aa&&T.save().scale(R,
R).translate(0,m).beginPath().rect(0,0,c.width,c.scrollHeight).translate(-X,-S).clip().run(V).restore()}function t(a){return 0>a-m?-1:(a-m+S)/q|0}function z(a){return F+((a-O)/(b/v)|0)/v}function L(a){a-=F;return a*=b,a+O}var G,J=c.dispatcher,S=0,X=0,R=window.devicePixelRatio,K=document.createElement("canvas");this.updateState=function(){G=c.controller.getChannelNames();u=!0};this.updateState();this.scrollTo=function(a){S=a*Math.max(G.length*q-c.scrollHeight,0);u=!0};this.resize=function(){R=window.devicePixelRatio;
K.width=c.width*R;K.height=c.height*R;K.style.width=c.width+"px";K.style.height=c.height+"px";c.scrollHeight=c.height-m};this.dom=K;this.resize();var y,p,x,I,U,Q,k=K.getContext("2d"),T=f(k),O=20,u=!1,N=[],M=0,H=0,Y=0,Z=1;this.setTimeScale=r;var W=null,D=null;this.repaint=function(){u=!0};this._paint=function(){if(!u)return void E();r(c.timeScale);y=c.currentTime;F=c.scrollTime;k.fillStyle=g.a;k.clearRect(0,0,K.width,K.height);k.save();k.scale(R,R);k.lineWidth=1;width=c.width;height=c.height;var a=
b/d,B=F*b%a,f=(width-O+B)/a;for(p=0;f>p;p++){x=p*a+O-B;k.strokeStyle=g.b;k.beginPath();k.moveTo(x,0);k.lineTo(x,height);k.stroke();k.fillStyle=g.d;k.textAlign="center";var t=(p*a-B)/b+F,t=w.format_friendly_seconds(t);k.fillText(t,x,38)}a=b/h;f=(width-O+B)/a;for(p=0;f>p;p++)k.strokeStyle=g.c,k.beginPath(),x=p*a+O-B,k.moveTo(x,m-0),k.lineTo(x,m-16),k.stroke();t=v/h;a=b/v;f=(width-O+B)/a;for(p=0;f>p;p++)0!==p%t&&(k.strokeStyle=g.c,k.beginPath(),x=p*a+O-B,k.moveTo(x,m-0),k.lineTo(x,m-10),k.stroke());
T.save().translate(0,m).beginPath().rect(0,0,c.width,c.scrollHeight).translate(-X,-S).clip().run(n).restore();a=width;B=a/b;Z=f=a/c.totalTime;Y=B*f;H=c.scrollTime*f;H=Math.min(Math.max(0,H),a-Y);k.beginPath();k.fillStyle=g.b;k.rect(0,5,a,20);k.fill();k.fillStyle=g.c;k.beginPath();k.rect(H,5,Y,20);k.fill();a=y*f;k.fillStyle="red";k.fillRect(0,5,a,2);k.strokeStyle="red";x=(y-F)*b+O;a=w.format_friendly_seconds(y);f=k.measureText(a).width;B=m-5;f=f/2+4;k.beginPath();k.moveTo(x,B);k.lineTo(x,height);k.stroke();
k.fillStyle="red";k.textAlign="center";k.beginPath();k.moveTo(x,B+5);k.lineTo(x+5,B);k.lineTo(x+f,B);k.lineTo(x+f,B-14);k.lineTo(x-f,B-14);k.lineTo(x-f,B);k.lineTo(x-5,B);k.closePath();k.fill();k.fillStyle="white";k.fillText(a,x,B-4);k.restore();u=!1};var u=!0,B;document.addEventListener("mousemove",function(a){B=K.getBoundingClientRect();var b=a.clientX-B.left;a=a.clientY-B.top;D||(aa={x:b,y:a})});K.addEventListener("dblclick",function(a){B=K.getBoundingClientRect();var b=a.clientX-B.left;a=t(a.clientY-
B.top);z(b);J.fire("keyframe",G[a],y)});var aa=null;K.addEventListener("mouseout",function(){aa=null});var ba=!1,ca=!1;w.handleDrag(K,function(a){ba=!0;aa={x:a.offsetx,y:a.offsety};E();D instanceof l&&(M=D.time,Q=G[t(a.offsety)],Q||(D=null));J.fire("time.update",z(a.offsetx))},function(a,b){ba=!1;D?(ca=!0,D.mousedrag&&D.mousedrag(a,b)):J.fire("time.update",z(a.offsetx))},function(){ca&&J.fire("keyframe.move");ba=!1;D=null;ca=!1;c.draggingKeyframe=!1;u=!0});var da;w.handleDrag(K,function(a){da=H},
function(a){c.scrollTime=Math.max(0,(da+a.dx)/Z);u=!0},function(){},function(a){var b=a.offsetx>=H&&a.offsetx<=H+Y;return 20>=a.offsety&&b})}},{"./layout_constants":6,"./theme":7,"./utils":11}],9:[function(c,l,n){function g(c){function t(){k=performance.now()-1E3*p.currentTime;I.setControlStatus(!0)}function g(){k=null;I.setControlStatus(!1)}function L(){if(requestAnimationFrame(L),k){var b=(performance.now()-k)/1E3;T(b);b>p.totalTime&&(k=performance.now())}if(O){Q.style.width=p.width+"px";Q.style.height=
p.height+"px";var b=I.dom,d=x.dom;b.style.cssText="position: absolute; left: 0px; top: 0px; height: "+p.height+"px;";v(b,{overflow:"hidden"});b.style.width=a.LEFT_PANE_WIDTH+"px";d.style.position="absolute";d.style.top="0px";d.style.left=a.LEFT_PANE_WIDTH+"px";x.resize();X();O=!1;y.fire("resize")}x._paint()}function l(a){a||(a=p.name);(a=prompt("Pick a name to save to (localStorage)",a))&&(p.name=a)}function n(a){c.deserialize(a);I.updateState();x.updateState();X()}function S(a){a=JSON.parse(a);n(a)}
function X(){var b=p.controller.getChannelNames().length*a.LINE_HEIGHT;U.setLength(p.scrollHeight/b);I.repaint();x.repaint()}function R(a){a&&S(localStorage[C+a])}function K(b,d){p.width=b-a.LEFT_PANE_WIDTH-4;p.height=d-44;p.scrollHeight=p.height-a.MARKER_TRACK_HEIGHT;U.setHeight(p.scrollHeight-2);v(U.dom,{top:a.MARKER_TRACK_HEIGHT+"px",left:b-16-4+"px"});O=!0}var y=new w;c.timeliner=this;c.init(this);var p={width:a.WIDTH,height:a.HEIGHT,scrollHeight:0,totalTime:20,timeScale:6,currentTime:0,scrollTime:0,
dispatcher:y,controller:c},x=new F(p),I=new b(p),U=(new q(y),new r(0,10)),Q=document.createElement("div");c.setDuration(p.totalTime);y.on("keyframe",function(a){var b=p.currentTime;if(null!=b&&null!=a){var d=c.getChannelKeyTimes(a,b);0>m.binarySearch(d,b)?c.setKeyframe(a,b):c.delKeyframe(a,b);X()}});y.on("keyframe.move",function(a,b){});var k=null,T=function(a){var b=Math.min(Math.max(a,0),p.totalTime);p.currentTime=b;c.setDisplayTime(b);k&&(k=performance.now()-1E3*a);X()};y.on("controls.toggle_play",
function(){k?g():t()});y.on("controls.restart_play",function(){k||t();T(0)});y.on("controls.play",t);y.on("controls.pause",g);y.on("controls.stop",function(){null!==k&&g();T(0)});y.on("time.update",T);y.on("totalTime.update",function(a){p.totalTime=a;c.setDuration(a);x.repaint()});y.on("update.scale",function(a){p.timeScale=a;x.setTimeScale(a);x.repaint()});y.on("controls.undo",function(){});y.on("controls.redo",function(){});var O=!0;L();this.openLocalSave=R;y.on("import",function(){var a=prompt("Paste JSON in here to Load");
a&&S(a)}.bind(this));y.on("new",function(){data.blank();I.updateState();x.updateState();X()});y.on("openfile",function(){P(function(a){S(a)},Q)});y.on("open",R);y.on("export",function(){var a=c.serialize();A(JSON.stringify(a,null,"\t"),"animation.json")});y.on("save",function(){var a=p.name;a||l(a)});y.on("save_as",l);this.save=function(a){};this.load=n;v(Q,{textAlign:"left",lineHeight:"1em",position:"absolute",top:"22px"});var u=document.createElement("div");v(u,{position:"fixed",top:"20px",left:"20px",
margin:0,border:"1px solid "+f.a,padding:0,overflow:"hidden",backgroundColor:f.a,color:f.d,zIndex:V,fontFamily:"monospace",fontSize:"12px"});var N={position:"absolute",top:"0px",width:"100%",height:"22px",lineHeight:"22px",overflow:"hidden"},M=document.createElement("div");v(M,N,{borderBottom:"1px solid "+f.b,textAlign:"center"});var H=document.createElement("span");M.appendChild(H);H.innerHTML=d.description+" "+d.version;M.appendChild(H);H=document.createElement("div");v(H,N,{textAlign:"right"});
M.appendChild(H);var Y=new h(10,"resize_full","Maximize",y);v(Y.dom,{width:"20px",height:"20px",padding:"2px",marginRight:"2px"},{marginRight:"2px"});H.appendChild(Y.dom);N=document.createElement("div");H={position:"absolute",width:"100%",height:"22px",lineHeight:"22px",bottom:"0",fontSize:"11px"};v(N,H,{borderTop:"1px solid "+f.b,background:f.a});u.appendChild(Q);u.appendChild(N);u.appendChild(M);var Z=document.createElement("span");Z.textContent="Hello!";Z.style.marginLeft="10px";y.on("status",
function(a){Z.textContent=a});y.on("state:save",function(a){y.fire("status",a)});var W=document.createElement("div");v(W,H,{textAlign:"right"});N.appendChild(Z);N.appendChild(W);var D=document.createElement("div");v(D,{background:"#999",opacity:.2,position:"fixed",margin:0,padding:0,zIndex:V-1,transitionProperty:"top, left, width, height, opacity",transitionDuration:"0.25s",transitionTimingFunction:"ease-in-out"});document.body.appendChild(u);document.body.appendChild(D);Q.appendChild(I.dom);Q.appendChild(x.dom);
Q.appendChild(U.dom);U.onScroll["do"](function(a,b){switch(a){case "scrollto":I.scrollTo(b),x.scrollTo(b)}});document.addEventListener("keydown",function(a){var b=32==a.keyCode,d=13==a.keyCode,c=(a.metaKey&&91==a.keyCode&&!a.shiftKey,document.activeElement);c.nodeName.match(/(INPUT|BUTTON|SELECT)/)&&c.blur();b?y.fire("controls.toggle_play"):d?y.fire("controls.restart_play"):27==a.keyCode&&y.fire("controls.pause")});this.dispose=function(){var a=u.parentElement;a.removeChild(u);a.removeChild(D)};(function(){function b(a,
d,c,m,h){a.style.left=d+"px";a.style.top=c+"px";a.style.width=m+"px";a.style.height=h+"px";a===u&&K(m,h)}function d(){b(D,z.left,z.top,z.width,z.height);D.style.opacity=0}function c(a){m(a);var b=g||F||E||q,d=!b&&J;r={x:l,y:L,cx:a.clientX,cy:a.clientY,w:z.width,h:z.height,isResizing:b,isMoving:d,onTopEdge:E,onLeftEdge:q,onRightEdge:g,onBottomEdge:F};(b||d)&&a.preventDefault();a.stopPropagation()}function m(a){z=u.getBoundingClientRect();l=a.clientX-z.left;L=a.clientY-z.top;E=x>L;q=x>l;g=l>=z.width-
x;F=L>=z.height-x}function h(a){C=a;m(C);H=!0;I&&C.stopPropagation()}function f(){if(requestAnimationFrame(f),H){if(H=!1,r&&r.isResizing){if(r.onRightEdge&&(u.style.width=Math.max(l,w)+"px"),r.onBottomEdge&&(u.style.height=Math.max(L,n)+"px"),r.onLeftEdge){var a=Math.max(r.cx-C.clientX+r.w,w);a>w&&(u.style.width=a+"px",u.style.left=C.clientX+"px")}r.onTopEdge&&(a=Math.max(r.cy-C.clientY+r.h,n),a>n&&(u.style.height=a+"px",u.style.top=C.clientY+"px"));return d(),void K(z.width,z.height)}if(r&&r.isMoving){switch(k()){case "full-screen":b(D,
0,0,window.innerWidth,window.innerHeight);D.style.opacity=.2;break;case "snap-top-edge":b(D,0,0,window.innerWidth,.25*window.innerHeight);D.style.opacity=.2;break;case "snap-left-edge":b(D,0,0,.35*window.innerWidth,window.innerHeight);D.style.opacity=.2;break;case "snap-right-edge":b(D,.65*window.innerWidth,0,.35*window.innerWidth,window.innerHeight);D.style.opacity=.2;break;case "snap-bottom-edge":b(D,0,.75*window.innerHeight,window.innerWidth,.25*window.innerHeight);D.style.opacity=.2;break;default:d()}return G?
void b(u,C.clientX-G.width/2,C.clientY-Math.min(r.y,G.height),G.width,G.height):(u.style.top=C.clientY-r.y+"px",void(u.style.left=C.clientX-r.x+"px"))}g&&F||q&&E?u.style.cursor="nwse-resize":g&&E||F&&q?u.style.cursor="nesw-resize":g||q?u.style.cursor="ew-resize":F||E?u.style.cursor="ns-resize":J?u.style.cursor="move":u.style.cursor="default"}}function k(){return C.clientY<y?"full-screen":C.clientY<A?"snap-top-edge":C.clientX<A?"snap-left-edge":window.innerWidth-C.clientX<A?"snap-right-edge":window.innerHeight-
C.clientY<A?"snap-bottom-edge":void 0}function t(){var a,d,c,m;switch(P){case "full-screen":d=a=0;c=window.innerWidth;m=window.innerHeight;break;case "snap-top-edge":d=a=0;c=window.innerWidth;m=.25*window.innerHeight;break;case "snap-left-edge":d=a=0;c=.35*window.innerWidth;m=window.innerHeight;break;case "snap-right-edge":a=.65*window.innerWidth;d=0;c=.35*window.innerWidth;m=window.innerHeight;break;case "snap-bottom-edge":a=0;d=.75*window.innerHeight;c=window.innerWidth;m=.25*window.innerHeight;
break;default:return}b(u,a,d,c,m);b(D,a,d,c,m)}function v(a){m(a);r&&r.isMoving&&(P=k(),P?(G={width:z.width,height:z.height},t()):G=null,d());r=null;I&&a.stopPropagation()}var g,F,q,E,l,L,w=120,n=100,y=2,A=12,x=2,r=null,G={width:a.WIDTH,height:a.HEIGHT},P="snap-bottom-edge",z=u.getBoundingClientRect(),H=!1,J=!1;M.addEventListener("mouseover",function(){J=!0});M.addEventListener("mouseout",function(){J=!1});Y.onClick(function(){G||(G={width:z.width,height:z.height});P="full-screen";t()});window.addEventListener("resize",
function(){P?t():O=!0});b(u,0,0,p.width,p.height);b(D,0,0,p.width,p.height);u.addEventListener("mousedown",function(a){c(a)});u.addEventListener("mouseover",function(a){I=!0});u.addEventListener("mouseout",function(a){I=!1});document.addEventListener("mousemove",h);document.addEventListener("mouseup",v);u.addEventListener("touchstart",function(a){c(a.touches[0]);a.preventDefault()});document.addEventListener("touchmove",function(a){h(a.touches[0])});document.addEventListener("touchend",function(a){0==
a.touches.length&&v(a.changedTouches[0])});var C,I=!1;f();t()})()}l=c("./undo");var w=c("./dispatcher"),f=c("./theme"),q=l.UndoManager,a=c("./layout_constants"),m=c("./utils"),b=c("./layer_cabinet"),F=c("./timeline_panel"),d=c("../package.json"),h=c("./widget/icon_button"),v=m.style,A=m.saveToFile,P=m.openAs,C=m.STORAGE_PREFIX,r=c("./widget/scrollbar"),V=999;g.binarySearch=m.binarySearch;window.Timeliner=g},{"../package.json":2,"./dispatcher":3,"./layer_cabinet":4,"./layout_constants":6,"./theme":7,
"./timeline_panel":8,"./undo":10,"./utils":11,"./widget/icon_button":13,"./widget/scrollbar":15}],10:[function(c,l,n){function g(c,f){this.dispatcher=c;this.MAX_ITEMS=f||100;this.clear()}g.prototype.save=function(c,f){var g=this.states,a=this.index+1;g.splice(a,g.length-a,c);g.length>this.MAX_ITEMS&&g.shift();this.index=g.length-1;f||this.dispatcher.fire("state:save",c.description)};g.prototype.clear=function(){this.states=[];this.index=-1};g.prototype.canUndo=function(){return 0<this.index};g.prototype.canRedo=
function(){return this.index<this.states.length-1};g.prototype.undo=function(){return this.canUndo()?(this.dispatcher.fire("status","Undo: "+this.get().description),this.index--):this.dispatcher.fire("status","Nothing to undo"),this.get()};g.prototype.redo=function(){return this.canRedo()?(this.index++,this.dispatcher.fire("status","Redo: "+this.get().description)):this.dispatcher.fire("status","Nothing to redo"),this.get()};g.prototype.get=function(){return this.states[this.index]};l.exports={UndoState:function(c,
f){this.state=c.getJSONString();this.description=f},UndoManager:g}},{}],11:[function(c,l,n){function g(a){if(a=a.target.files[0]){var c=new FileReader;c.onload=function(a){q(a.target.result)};c.readAsText(a);f.value=""}}function w(a){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(c)}l.exports={STORAGE_PREFIX:"timeliner-",Z_INDEX:999,style:function(a,c){for(var b=1;b<arguments.length;++b){var f=arguments[b],d;for(d in f)a.style[d]=
f[d]}},saveToFile:function(a,c){var b=document.createElement("a");document.body.appendChild(b);b.style="display: none";var f=new Blob([a],{type:"octet/stream"}),d=window.URL.createObjectURL(f);b.href=d;b.download=c;w(b);setTimeout(function(){window.URL.revokeObjectURL(d);document.body.removeChild(b)},500)},openAs:function(a,c){q=a;f||(f=document.createElement("input"),f.style.display="none",f.type="file",f.addEventListener("change",g),c=c||document.body,c.appendChild(f));w(f)},format_friendly_seconds:function(a,
c){var b=0|a,f=b%60,b=(b/60|0)%60,d=(f/100).toFixed(2).substring(2),b=b+":"+d;0<a%1&&("frames"===c?b=f+"+"+(a%1*60).toFixed(0)+"f":b+=(a%1).toFixed(2).substring(1));return b},proxy_ctx:function(a){function c(b){return function(){return a[b].apply(a,arguments),f}}function b(b){return function(c){return a[b]=c,f}}var f={run:function(a){return a(f),f}},d;for(d in a)switch(typeof a[d]){case "object":break;case "function":f[d]=c(d);break;default:f[d]=b(d)}return f},handleDrag:function(a,c,b,f,d){function h(a){return l(a),
d&&!d(t,a)?void(t=null):(document.addEventListener("mousemove",g),document.addEventListener("mouseup",n),c(t,a),void a.preventDefault())}function g(a){q(a);t.moved=!0;b(t,a)}function l(b){z=a.getBoundingClientRect();var c=b.clientX;b=b.clientY;t={startx:c,starty:b,x:c,y:b,dx:0,dy:0,offsetx:c-z.left,offsety:b-z.top,moved:!1}}function q(b){z=a.getBoundingClientRect();var c=b.clientX,d=b.clientY,f=c-z.left,m=d-z.top;t.x=c;t.y=d;t.dx=b.clientX-t.startx;t.dy=b.clientY-t.starty;t.offsetx=f;t.offsety=m}
function n(a){q(a);f(t,a);t=null;document.removeEventListener("mousemove",g);document.removeEventListener("mouseup",n)}function r(b){if(1==b.touches.length){var f=b.touches[0];if(d&&!d(f))return;b.preventDefault();l(f);c(t,f)}a.addEventListener("touchmove",w);a.addEventListener("touchend",E)}function w(a){g(a.touches[0])}function E(b){n(b);a.removeEventListener("touchmove",w);a.removeEventListener("touchend",E)}var t=null,z=a.getBoundingClientRect();a.addEventListener("mousedown",h);a.addEventListener("touchstart",
r);this.release=function(){a.removeEventListener("mousedown",h);a.removeEventListener("touchstart",r)}},binarySearch:function(a,c){for(var b=0,f=a.length,d=!1;f>b;){var h=b+f>>1;a[h]<c?b=h+1:(f=h,d=a[h]===c)}return d?b:~b}};var f,q},{}],12:[function(c,l,n){l.exports={unitsPerEm:1792,ascender:1536,descender:-256,fonts:{plus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,896,896 L,896,1312 C,896,1365,853,1408,800,1408 L,608,1408 C,555,1408,512,1365,512,1312 L,512,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,512,512 L,512,96 C,512,43,555,0,608,0 L,800,0 C,853,0,896,43,896,96 L,896,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},
minus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},ok:{advanceWidth:1792,commands:"M,1671,970 C,1671,995,1661,1020,1643,1038 L,1507,1174 C,1489,1192,1464,1202,1439,1202 C,1414,1202,1389,1192,1371,1174 L,715,517 L,421,812 C,403,830,378,840,353,840 C,328,840,303,830,285,812 L,149,676 C,131,658,121,633,121,608 C,121,583,131,558,149,540 L,511,178 L,647,42 C,665,24,690,14,715,14 C,740,14,765,24,783,42 L,919,178 L,1643,902 C,1661,920,1671,945,1671,970 Z"},
remove:{advanceWidth:1408,commands:"M,1298,214 C,1298,239,1288,264,1270,282 L,976,576 L,1270,870 C,1288,888,1298,913,1298,938 C,1298,963,1288,988,1270,1006 L,1134,1142 C,1116,1160,1091,1170,1066,1170 C,1041,1170,1016,1160,998,1142 L,704,848 L,410,1142 C,392,1160,367,1170,342,1170 C,317,1170,292,1160,274,1142 L,138,1006 C,120,988,110,963,110,938 C,110,913,120,888,138,870 L,432,576 L,138,282 C,120,264,110,239,110,214 C,110,189,120,164,138,146 L,274,10 C,292,-8,317,-18,342,-18 C,367,-18,392,-8,410,10 L,704,304 L,998,10 C,1016,-8,1041,-18,1066,-18 C,1091,-18,1116,-8,1134,10 L,1270,146 C,1288,164,1298,189,1298,214 Z"},
zoom_in:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,768,768 L,768,992 C,768,1009,753,1024,736,1024 L,672,1024 C,655,1024,640,1009,640,992 L,640,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,640,640 L,640,416 C,640,399,655,384,672,384 L,736,384 C,753,384,768,399,768,416 L,768,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},
zoom_out:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},
cog:{advanceWidth:1536,commands:"M,1024,640 C,1024,499,909,384,768,384 C,627,384,512,499,512,640 C,512,781,627,896,768,896 C,909,896,1024,781,1024,640 M,1536,749 C,1536,766,1524,782,1507,785 L,1324,813 C,1314,846,1300,879,1283,911 C,1317,958,1354,1002,1388,1048 C,1393,1055,1396,1062,1396,1071 C,1396,1079,1394,1087,1389,1093 C,1347,1152,1277,1214,1224,1263 C,1217,1269,1208,1273,1199,1273 C,1190,1273,1181,1270,1175,1264 L,1033,1157 C,1004,1172,974,1184,943,1194 L,915,1378 C,913,1395,897,1408,879,1408 L,657,1408 C,639,1408,625,1396,621,1380 C,605,1320,599,1255,592,1194 C,561,1184,530,1171,501,1156 L,363,1263 C,355,1269,346,1273,337,1273 C,303,1273,168,1127,144,1094 C,139,1087,135,1080,135,1071 C,135,1062,139,1054,145,1047 C,182,1002,218,957,252,909 C,236,879,223,849,213,817 L,27,789 C,12,786,0,768,0,753 L,0,531 C,0,514,12,498,29,495 L,212,468 C,222,434,236,401,253,369 C,219,322,182,278,148,232 C,143,225,140,218,140,209 C,140,201,142,193,147,186 C,189,128,259,66,312,18 C,319,11,328,7,337,7 C,346,7,355,10,362,16 L,503,123 C,532,108,562,96,593,86 L,621,-98 C,623,-115,639,-128,657,-128 L,879,-128 C,897,-128,911,-116,915,-100 C,931,-40,937,25,944,86 C,975,96,1006,109,1035,124 L,1173,16 C,1181,11,1190,7,1199,7 C,1233,7,1368,154,1392,186 C,1398,193,1401,200,1401,209 C,1401,218,1397,227,1391,234 C,1354,279,1318,323,1284,372 C,1300,401,1312,431,1323,463 L,1508,491 C,1524,494,1536,512,1536,527 Z"},
trash:{advanceWidth:1408,commands:"M,512,800 C,512,818,498,832,480,832 L,416,832 C,398,832,384,818,384,800 L,384,224 C,384,206,398,192,416,192 L,480,192 C,498,192,512,206,512,224 M,768,800 C,768,818,754,832,736,832 L,672,832 C,654,832,640,818,640,800 L,640,224 C,640,206,654,192,672,192 L,736,192 C,754,192,768,206,768,224 M,1024,800 C,1024,818,1010,832,992,832 L,928,832 C,910,832,896,818,896,800 L,896,224 C,896,206,910,192,928,192 L,992,192 C,1010,192,1024,206,1024,224 M,1152,76 C,1152,28,1125,0,1120,0 L,288,0 C,283,0,256,28,256,76 L,256,1024 L,1152,1024 L,1152,76 M,480,1152 L,529,1269 C,532,1273,540,1279,546,1280 L,863,1280 C,868,1279,877,1273,880,1269 L,928,1152 M,1408,1120 C,1408,1138,1394,1152,1376,1152 L,1067,1152 L,997,1319 C,977,1368,917,1408,864,1408 L,544,1408 C,491,1408,431,1368,411,1319 L,341,1152 L,32,1152 C,14,1152,0,1138,0,1120 L,0,1056 C,0,1038,14,1024,32,1024 L,128,1024 L,128,72 C,128,-38,200,-128,288,-128 L,1120,-128 C,1208,-128,1280,-34,1280,76 L,1280,1024 L,1376,1024 C,1394,1024,1408,1038,1408,1056 Z"},
file_alt:{advanceWidth:1536,commands:"M,1468,1156 L,1156,1468 C,1119,1505,1045,1536,992,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,-160 C,0,-213,43,-256,96,-256 L,1440,-256 C,1493,-256,1536,-213,1536,-160 L,1536,992 C,1536,1045,1505,1119,1468,1156 M,1024,1400 C,1041,1394,1058,1385,1065,1378 L,1378,1065 C,1385,1058,1394,1041,1400,1024 L,1024,1024 M,1408,-128 L,128,-128 L,128,1408 L,896,1408 L,896,992 C,896,939,939,896,992,896 L,1408,896 Z"},download_alt:{advanceWidth:1664,commands:"M,1280,192 C,1280,157,1251,128,1216,128 C,1181,128,1152,157,1152,192 C,1152,227,1181,256,1216,256 C,1251,256,1280,227,1280,192 M,1536,192 C,1536,157,1507,128,1472,128 C,1437,128,1408,157,1408,192 C,1408,227,1437,256,1472,256 C,1507,256,1536,227,1536,192 M,1664,416 C,1664,469,1621,512,1568,512 L,1104,512 L,968,376 C,931,340,883,320,832,320 C,781,320,733,340,696,376 L,561,512 L,96,512 C,43,512,0,469,0,416 L,0,96 C,0,43,43,0,96,0 L,1568,0 C,1621,0,1664,43,1664,96 M,1339,985 C,1329,1008,1306,1024,1280,1024 L,1024,1024 L,1024,1472 C,1024,1507,995,1536,960,1536 L,704,1536 C,669,1536,640,1507,640,1472 L,640,1024 L,384,1024 C,358,1024,335,1008,325,985 C,315,961,320,933,339,915 L,787,467 C,799,454,816,448,832,448 C,848,448,865,454,877,467 L,1325,915 C,1344,933,1349,961,1339,985 Z"},
repeat:{advanceWidth:1536,commands:"M,1536,1280 C,1536,1306,1520,1329,1497,1339 C,1473,1349,1445,1344,1427,1325 L,1297,1196 C,1156,1329,965,1408,768,1408 C,345,1408,0,1063,0,640 C,0,217,345,-128,768,-128 C,997,-128,1213,-27,1359,149 C,1369,162,1369,181,1357,192 L,1220,330 C,1213,336,1204,339,1195,339 C,1186,338,1177,334,1172,327 C,1074,200,927,128,768,128 C,486,128,256,358,256,640 C,256,922,486,1152,768,1152 C,899,1152,1023,1102,1117,1015 L,979,877 C,960,859,955,831,965,808 C,975,784,998,768,1024,768 L,1472,768 C,1507,768,1536,797,1536,832 Z"},
pencil:{advanceWidth:1536,commands:"M,363,0 L,256,0 L,256,128 L,128,128 L,128,235 L,219,326 L,454,91 M,886,928 C,886,922,884,916,879,911 L,337,369 C,332,364,326,362,320,362 C,307,362,298,371,298,384 C,298,390,300,396,305,401 L,847,943 C,852,948,858,950,864,950 C,877,950,886,941,886,928 M,832,1120 L,0,288 L,0,-128 L,416,-128 L,1248,704 M,1515,1024 C,1515,1058,1501,1091,1478,1115 L,1243,1349 C,1219,1373,1186,1387,1152,1387 C,1118,1387,1085,1373,1062,1349 L,896,1184 L,1312,768 L,1478,934 C,1501,957,1515,990,1515,1024 Z"},
edit:{advanceWidth:1792,commands:"M,888,352 L,832,352 L,832,448 L,736,448 L,736,504 L,852,620 L,1004,468 M,1328,1072 C,1337,1063,1336,1048,1327,1039 L,977,689 C,968,680,953,679,944,688 C,935,697,936,712,945,721 L,1295,1071 C,1304,1080,1319,1081,1328,1072 M,1408,478 C,1408,491,1400,502,1388,507 C,1376,512,1363,510,1353,500 L,1289,436 C,1283,430,1280,422,1280,414 L,1280,288 C,1280,200,1208,128,1120,128 L,288,128 C,200,128,128,200,128,288 L,128,1120 C,128,1208,200,1280,288,1280 L,1120,1280 C,1135,1280,1150,1278,1165,1274 C,1176,1270,1188,1273,1197,1282 L,1246,1331 C,1254,1339,1257,1349,1255,1360 C,1253,1370,1246,1379,1237,1383 C,1200,1400,1160,1408,1120,1408 L,288,1408 C,129,1408,0,1279,0,1120 L,0,288 C,0,129,129,0,288,0 L,1120,0 C,1279,0,1408,129,1408,288 M,1312,1216 L,640,544 L,640,256 L,928,256 L,1600,928 M,1756,1084 C,1793,1121,1793,1183,1756,1220 L,1604,1372 C,1567,1409,1505,1409,1468,1372 L,1376,1280 L,1664,992 L,1756,1084 Z"},
play:{advanceWidth:1408,commands:"M,1384,609 C,1415,626,1415,654,1384,671 L,56,1409 C,25,1426,0,1411,0,1376 L,0,-96 C,0,-131,25,-146,56,-129 Z"},pause:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,960,1408 C,925,1408,896,1379,896,1344 L,896,-64 C,896,-99,925,-128,960,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 M,640,1344 C,640,1379,611,1408,576,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,576,-128 C,611,-128,640,-99,640,-64 Z"},stop:{advanceWidth:1536,
commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 Z"},resize_full:{advanceWidth:1536,commands:"M,755,480 C,755,488,751,497,745,503 L,631,617 C,625,623,616,627,608,627 C,600,627,591,623,585,617 L,253,285 L,109,429 C,97,441,81,448,64,448 C,29,448,0,419,0,384 L,0,-64 C,0,-99,29,-128,64,-128 L,512,-128 C,547,-128,576,-99,576,-64 C,576,-47,569,-31,557,-19 L,413,125 L,745,457 C,751,463,755,472,755,480 M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,1024,1408 C,989,1408,960,1379,960,1344 C,960,1327,967,1311,979,1299 L,1123,1155 L,791,823 C,785,817,781,808,781,800 C,781,792,785,783,791,777 L,905,663 C,911,657,920,653,928,653 C,936,653,945,657,951,663 L,1283,995 L,1427,851 C,1439,839,1455,832,1472,832 C,1507,832,1536,861,1536,896 Z"},
resize_small:{advanceWidth:1536,commands:"M,768,576 C,768,611,739,640,704,640 L,256,640 C,221,640,192,611,192,576 C,192,559,199,543,211,531 L,355,387 L,23,55 C,17,49,13,40,13,32 C,13,24,17,15,23,9 L,137,-105 C,143,-111,152,-115,160,-115 C,168,-115,177,-111,183,-105 L,515,227 L,659,83 C,671,71,687,64,704,64 C,739,64,768,93,768,128 M,1523,1248 C,1523,1256,1519,1265,1513,1271 L,1399,1385 C,1393,1391,1384,1395,1376,1395 C,1368,1395,1359,1391,1353,1385 L,1021,1053 L,877,1197 C,865,1209,849,1216,832,1216 C,797,1216,768,1187,768,1152 L,768,704 C,768,669,797,640,832,640 L,1280,640 C,1315,640,1344,669,1344,704 C,1344,721,1337,737,1325,749 L,1181,893 L,1513,1225 C,1519,1231,1523,1240,1523,1248 Z"},
eye_open:{advanceWidth:1792,commands:"M,1664,576 C,1493,312,1217,128,896,128 C,575,128,299,312,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,457,649,256,896,256 C,1143,256,1344,457,1344,704 C,1344,783,1323,861,1283,929 C,1439,849,1569,723,1664,576 M,944,960 C,944,934,922,912,896,912 C,782,912,688,818,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1792,576 C,1792,601,1784,624,1772,645 C,1588,947,1251,1152,896,1152 C,541,1152,204,947,20,645 C,8,624,0,601,0,576 C,0,551,8,528,20,507 C,204,205,541,0,896,0 C,1251,0,1588,204,1772,507 C,1784,528,1792,551,1792,576 Z"},
eye_close:{advanceWidth:1792,commands:"M,555,201 C,379,280,232,415,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,561,517,426,633,342 M,944,960 C,944,934,922,912,896,912 C,782,912,688,819,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1307,1151 C,1307,1162,1301,1172,1291,1178 C,1270,1190,1176,1248,1158,1248 C,1146,1248,1136,1242,1130,1232 L,1076,1135 C,1017,1146,956,1152,896,1152 C,527,1152,218,949,20,645 C,7,625,0,600,0,576 C,0,551,7,527,20,507 C,135,327,298,177,492,89 C,482,72,448,18,448,2 C,448,-10,454,-20,464,-26 C,485,-38,580,-96,598,-96 C,609,-96,620,-90,626,-80 L,675,9 C,886,386,1095,765,1306,1142 C,1307,1144,1307,1149,1307,1151 M,1344,704 C,1344,732,1341,760,1336,788 L,1056,286 C,1229,352,1344,518,1344,704 M,1792,576 C,1792,602,1785,623,1772,645 C,1694,774,1569,899,1445,982 L,1382,870 C,1495,792,1590,691,1664,576 C,1508,334,1261,157,970,132 L,896,0 C,1197,0,1467,137,1663,362 C,1702,407,1741,456,1772,507 C,1785,529,1792,550,1792,576 Z"},
folder_open:{advanceWidth:1920,commands:"M,1879,584 C,1879,629,1828,640,1792,640 L,704,640 C,616,640,498,586,440,518 L,104,122 C,88,104,73,80,73,56 C,73,11,124,0,160,0 L,1248,0 C,1336,0,1454,54,1512,122 L,1848,518 C,1864,536,1879,560,1879,584 M,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,216,1,207,1,199 L,6,205 L,343,601 C,424,697,579,768,704,768 L,1536,768 Z"},signin:{advanceWidth:1536,commands:"M,1184,640 C,1184,657,1177,673,1165,685 L,621,1229 C,609,1241,593,1248,576,1248 C,541,1248,512,1219,512,1184 L,512,896 L,64,896 C,29,896,0,867,0,832 L,0,448 C,0,413,29,384,64,384 L,512,384 L,512,96 C,512,61,541,32,576,32 C,593,32,609,39,621,51 L,1165,595 C,1177,607,1184,623,1184,640 M,1536,992 C,1536,1151,1407,1280,1248,1280 L,928,1280 C,883,1280,896,1212,896,1184 C,896,1147,935,1152,960,1152 L,1248,1152 C,1336,1152,1408,1080,1408,992 L,1408,288 C,1408,200,1336,128,1248,128 L,928,128 C,883,128,896,60,896,32 C,896,15,911,0,928,0 L,1248,0 C,1407,0,1536,129,1536,288 Z"},
upload_alt:{advanceWidth:1664,commands:"M,1280,64 C,1280,29,1251,0,1216,0 C,1181,0,1152,29,1152,64 C,1152,99,1181,128,1216,128 C,1251,128,1280,99,1280,64 M,1536,64 C,1536,29,1507,0,1472,0 C,1437,0,1408,29,1408,64 C,1408,99,1437,128,1472,128 C,1507,128,1536,99,1536,64 M,1664,288 C,1664,341,1621,384,1568,384 L,1141,384 C,1114,310,1043,256,960,256 L,704,256 C,621,256,550,310,523,384 L,96,384 C,43,384,0,341,0,288 L,0,-32 C,0,-85,43,-128,96,-128 L,1568,-128 C,1621,-128,1664,-85,1664,-32 M,1339,936 C,1349,959,1344,987,1325,1005 L,877,1453 C,865,1466,848,1472,832,1472 C,816,1472,799,1466,787,1453 L,339,1005 C,320,987,315,959,325,936 C,335,912,358,896,384,896 L,640,896 L,640,448 C,640,413,669,384,704,384 L,960,384 C,995,384,1024,413,1024,448 L,1024,896 L,1280,896 C,1306,896,1329,912,1339,936 Z"},
save:{advanceWidth:1536,commands:"M,384,0 L,384,384 L,1152,384 L,1152,0 M,1280,0 L,1280,416 C,1280,469,1237,512,1184,512 L,352,512 C,299,512,256,469,256,416 L,256,0 L,128,0 L,128,1280 L,256,1280 L,256,864 C,256,811,299,768,352,768 L,928,768 C,981,768,1024,811,1024,864 L,1024,1280 C,1044,1280,1083,1264,1097,1250 L,1378,969 C,1391,956,1408,915,1408,896 L,1408,0 M,896,928 C,896,911,881,896,864,896 L,672,896 C,655,896,640,911,640,928 L,640,1248 C,640,1265,655,1280,672,1280 L,864,1280 C,881,1280,896,1265,896,1248 L,896,928 M,1536,896 C,1536,949,1506,1022,1468,1060 L,1188,1340 C,1150,1378,1077,1408,1024,1408 L,96,1408 C,43,1408,0,1365,0,1312 L,0,-32 C,0,-85,43,-128,96,-128 L,1440,-128 C,1493,-128,1536,-85,1536,-32 Z"},
undo:{advanceWidth:1536,commands:"M,1536,640 C,1536,1063,1191,1408,768,1408 C,571,1408,380,1329,239,1196 L,109,1325 C,91,1344,63,1349,40,1339 C,16,1329,0,1306,0,1280 L,0,832 C,0,797,29,768,64,768 L,512,768 C,538,768,561,784,571,808 C,581,831,576,859,557,877 L,420,1015 C,513,1102,637,1152,768,1152 C,1050,1152,1280,922,1280,640 C,1280,358,1050,128,768,128 C,609,128,462,200,364,327 C,359,334,350,338,341,339 C,332,339,323,336,316,330 L,179,192 C,168,181,167,162,177,149 C,323,-27,539,-128,768,-128 C,1191,-128,1536,217,1536,640 Z"},
paste:{advanceWidth:1792,commands:"M,768,-128 L,768,1024 L,1152,1024 L,1152,608 C,1152,555,1195,512,1248,512 L,1664,512 L,1664,-128 M,1024,1312 C,1024,1295,1009,1280,992,1280 L,288,1280 C,271,1280,256,1295,256,1312 L,256,1376 C,256,1393,271,1408,288,1408 L,992,1408 C,1009,1408,1024,1393,1024,1376 L,1024,1312 M,1280,640 L,1280,939 L,1579,640 M,1792,512 C,1792,565,1762,638,1724,676 L,1316,1084 C,1305,1095,1293,1104,1280,1112 L,1280,1440 C,1280,1493,1237,1536,1184,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,96 C,0,43,43,0,96,0 L,640,0 L,640,-160 C,640,-213,683,-256,736,-256 L,1696,-256 C,1749,-256,1792,-213,1792,-160 Z"},
folder_open_alt:{advanceWidth:1920,commands:"M,1781,605 C,1781,590,1772,577,1763,566 L,1469,203 C,1435,161,1365,128,1312,128 L,224,128 C,202,128,171,135,171,163 C,171,178,180,191,189,203 L,483,566 C,517,607,587,640,640,640 L,1728,640 C,1750,640,1781,633,1781,605 M,640,768 C,549,768,442,717,384,646 L,128,331 L,128,1184 C,128,1237,171,1280,224,1280 L,544,1280 C,597,1280,640,1237,640,1184 L,640,1120 C,640,1067,683,1024,736,1024 L,1312,1024 C,1365,1024,1408,981,1408,928 L,1408,768 M,1909,605 C,1909,629,1904,652,1894,673 C,1864,737,1796,768,1728,768 L,1536,768 L,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,101,101,0,224,0 L,1312,0 C,1402,0,1511,52,1568,122 L,1863,485 C,1890,519,1909,561,1909,605 Z"}}}},
{}],13:[function(c,l,n){function g(a,c,b,g){var d=document.createElement("button");q(d,{padding:"0.2em 0.4em",margin:"0em",background:"none",outline:"none",fontSize:"16px",border:"none",borderRadius:"0.2em"});var h=document.createElement("canvas"),v=h.getContext("2d");d.appendChild(h);this.ctx=v;this.dom=d;this.canvas=h;var l=this;this.size=a;var n=1;this.resize=function(){n=window.devicePixelRatio;var b=a,d=w.fonts[c];h.height=b*n;h.style.height=b+"px";b=b/w.unitsPerEm*d.advanceWidth+.5|0;b+=2;h.width=
b*n;h.style.width=b+"px";v.fillStyle=f.c;l.draw()};g&&g.on("resize",this.resize);this.setSize=function(b){a=b;this.resize()};this.setIcon=function(a){l.icon=a;w.fonts[a]||console.error("Font icon not found!");this.resize()};this.onClick=function(a){d.addEventListener("click",a)};var C;this.onLongHold=function(a){function b(c){c.preventDefault();c.stopPropagation();C=setTimeout(function(){C&&a()},500)}function c(){clearTimeout(C)}d.addEventListener("mousedown",b);d.addEventListener("touchstart",b);
d.addEventListener("mouseup",c);d.addEventListener("mouseout",c);d.addEventListener("touchend",c)};this.setTip=function(a){b=a};var r={border:"1px solid "+f.b},V={border:"1px solid transparent"},E=(f.c,f.b);d.style.background="none";q(d,V);d.addEventListener("mouseover",function(){q(d,r);v.fillStyle=f.d;v.shadowColor=f.b;v.shadowBlur=.5*n;v.shadowOffsetX=1*n;v.shadowOffsetY=1*n;l.draw();b&&g&&g.fire("status",b)});d.addEventListener("mousedown",function(){d.style.background=E});d.addEventListener("mouseup",
function(){d.style.background="none";q(d,r)});d.addEventListener("mouseout",function(){d.style.background="none";q(d,V);l.dropshadow=!1;v.fillStyle=f.c;v.shadowColor=null;v.shadowBlur=0;v.shadowOffsetX=0;v.shadowOffsetY=0;l.draw()});c&&this.setIcon(c)}var w=c("./font.json"),f=c("../theme"),q=c("../utils").style;g.prototype.CMD_MAP={M:"moveTo",L:"lineTo",Q:"quadraticCurveTo",C:"bezierCurveTo",Z:"closePath"};g.prototype.draw=function(){if(this.icon){var a=this.ctx,c=window.devicePixelRatio,b=this.size/
w.unitsPerEm*c,g=w.fonts[this.icon].commands.split(" ");if(a.save(),a.clearRect(0,0,this.canvas.width*c,this.canvas.height*c),this.dropshadow){a.save();a.fillStyle=f.b;a.translate(1.5*c,1.5*c);a.scale(b,-b);a.translate(0,-w.ascender);a.beginPath();for(var c=0,d=g.length;d>c;c++){var h=g[c].split(","),l=h.slice(1);a[this.CMD_MAP[h[0]]].apply(a,l)}a.fill();a.restore()}a.scale(b,-b);a.translate(0,-w.ascender);a.beginPath();c=0;for(d=g.length;d>c;c++)h=g[c].split(","),l=h.slice(1),a[this.CMD_MAP[h[0]]].apply(a,
l);a.fill();a.restore()}};l.exports=g},{"../theme":7,"../utils":11,"./font.json":12}],14:[function(c,l,n){var g=c("../theme"),w=c("do.js"),f=c("../utils").style,q=c("../utils").handleDrag;l.exports=function(a){a=a||{};var c=void 0===a.min?-(1/0):a.min,b=a.step||.1,l=a.precision||3,d=document.createElement("input");f(d,{textAlign:"center",fontSize:"10px",padding:"1px",cursor:"ns-resize",width:"40px",margin:0,marginRight:"10px",appearance:"none",outline:"none",border:0,background:"none",borderBottom:"1px dotted "+
g.c,color:g.c});var h,n=this,A=0;this.onChange=new w;d.addEventListener("change",function(a){A=parseFloat(d.value,10);n.onChange.fire(A)});q(d,function(a){h=A},function(a){var d=1*b;A=h+a.dx*d+a.dy*-d;A=Math.max(c,A);n.onChange.fire(A,!0)},function(a){a.moved?n.onChange.fire(A):d.focus()});this.dom=d;this.setValue=function(a){A=a};this.paint=function(){null!=A&&(d.value=A.toFixed(l))}}},{"../theme":7,"../utils":11,"do.js":1}],15:[function(c,l,n){var g=c("do.js"),w=c("../utils"),f={position:"absolute",
background:"-webkit-gradient(linear, left top, right top, color-stop(0, rgb(29,29,29)), color-stop(0.6, rgb(50,50,50)) )",border:"1px solid rgb(29, 29, 29)",textAlign:"center",cursor:"pointer"},q={background:"-webkit-gradient(linear, left top, right top, color-stop(0.2, rgb(88,88,88)), color-stop(0.6, rgb(64,64,64)) )",border:"1px solid rgb(25,25,25)",position:"relative",borderRadius:"6px"};l.exports=function(a,c,b){function l(a){a.preventDefault();a=(a.clientY-V)/(n-P);1<a&&(a=1);0>a&&(a=0);r.setPosition(a);
r.onScroll.fire("scrollto",a)}function d(a){l(a);document.removeEventListener("mousemove",l,!1);document.removeEventListener("mouseup",d,!1)}c=c?c:12;b=c+6;var h=document.createElement("div");w.style(h,f);var n=a-2;h.style.height=n+"px";h.style.width=b+"px";var A=document.createElement("div");w.style(A,q);A.style.width=c+"px";A.style.height=a/2;A.style.top=0;A.style.left="3px";h.appendChild(A);var P,C,r=this;this.setLength=function(a){a=Math.max(Math.min(1,a),0);a*=n;P=Math.max(a,25);A.style.height=
P+"px"};this.setHeight=function(b){a=b;n=a-2;h.style.height=n+"px"};this.setPosition=function(a){a=Math.max(Math.min(1,a),0);C=a*(n-P);A.style.top=C};this.setLength(1);this.setPosition(0);this.onScroll=new g;var V;h.addEventListener("mousedown",function(a){a.preventDefault();a.target==A?(V=a.clientY,document.addEventListener("mousemove",l,!1),document.addEventListener("mouseup",d,!1)):a.clientY<C?r.onScroll.fire("pageup"):a.clientY>C+P&&r.onScroll.fire("pagedown")},!1);this.dom=h}},{"../utils":11,
"do.js":1}]},{},[3,4,5,6,7,8,9,10,11]);