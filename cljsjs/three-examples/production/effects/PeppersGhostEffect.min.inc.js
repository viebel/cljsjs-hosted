THREE.PeppersGhostEffect=function(a){var e=this;e.cameraDistance=15;e.reflectFromAbove=!1;var f,b,d,l=new THREE.PerspectiveCamera,g=new THREE.PerspectiveCamera,h=new THREE.PerspectiveCamera,k=new THREE.PerspectiveCamera,m=new THREE.Vector3,n=new THREE.Quaternion,q=new THREE.Vector3;a.autoClear=!1;this.setSize=function(c,e){f=c/2;c<e?(b=c/3,d=c/3):(b=e/3,d=e/3);a.setSize(c,e)};this.render=function(c,p){c.updateMatrixWorld();null===p.parent&&p.updateMatrixWorld();p.matrixWorld.decompose(m,n,q);l.position.copy(m);
l.quaternion.copy(n);l.translateZ(e.cameraDistance);l.lookAt(c.position);g.position.copy(m);g.quaternion.copy(n);g.translateZ(-e.cameraDistance);g.lookAt(c.position);g.rotation.z+=Math.PI/180*180;h.position.copy(m);h.quaternion.copy(n);h.translateX(-e.cameraDistance);h.lookAt(c.position);h.rotation.x+=Math.PI/180*90;k.position.copy(m);k.quaternion.copy(n);k.translateX(e.cameraDistance);k.lookAt(c.position);k.rotation.x+=Math.PI/180*90;a.clear();a.setScissorTest(!0);a.setScissor(f-b/2,2*d,b,d);a.setViewport(f-
b/2,2*d,b,d);e.reflectFromAbove?a.render(c,g):a.render(c,l);a.setScissor(f-b/2,0,b,d);a.setViewport(f-b/2,0,b,d);e.reflectFromAbove?a.render(c,l):a.render(c,g);a.setScissor(f-b/2-b,d,b,d);a.setViewport(f-b/2-b,d,b,d);e.reflectFromAbove?a.render(c,k):a.render(c,h);a.setScissor(f+b/2,d,b,d);a.setViewport(f+b/2,d,b,d);e.reflectFromAbove?a.render(c,h):a.render(c,k);a.setScissorTest(!1)}};