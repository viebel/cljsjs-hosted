THREE.SubdivisionModifier=function(l){this.subdivisions=void 0===l?1:l};THREE.SubdivisionModifier.prototype.modify=function(l){for(var y=this.subdivisions;0<y--;)this.smooth(l);l.computeFaceNormals();l.computeVertexNormals()};
(function(){function l(f,e,c){return c[Math.min(f,e)+"_"+Math.max(f,e)]}function y(f,e,c,q,l,u){var b=Math.min(f,e),k=Math.max(f,e),d=b+"_"+k;d in q?c=q[d]:(c={a:c[b],b:c[k],newEdge:null,faces:[]},q[d]=c);c.faces.push(l);u[f].edges.push(c);u[e].edges.push(c)}function w(f,e){return Math.abs(e-f)/2+Math.min(f,e)}function A(f,e,c,l){f.push([e.clone(),c.clone(),l.clone()])}var D=["a","b","c"];THREE.SubdivisionModifier.prototype.smooth=function(f){var e=new THREE.Vector3,c,q,z,u=[],b,k,d,g,v,n,r,m,a;c=
f.vertices;q=f.faces;z=f.faceVertexUvs[0];var C=void 0!==z&&0<z.length;n=Array(c.length);r={};d=0;for(m=c.length;d<m;d++)n[d]={edges:[]};d=0;for(m=q.length;d<m;d++)a=q[d],y(a.a,a.b,c,r,a,n),y(a.b,a.c,c,r,a,n),y(a.c,a.a,c,r,a,n);m=[];var h,p,x;for(k in r){d=r[k];b=new THREE.Vector3;a=.375;p=.125;x=d.faces.length;2!=x&&(a=.5,p=0);b.addVectors(d.a,d.b).multiplyScalar(a);e.set(0,0,0);for(g=0;g<x;g++){a=d.faces[g];for(v=0;3>v&&(h=c[a[D[v]]],h===d.a||h===d.b);v++);e.add(h)}e.multiplyScalar(p);b.add(e);
d.newEdge=m.length;m.push(b)}var t,B;a=[];k=0;for(d=c.length;k<d;k++){v=c[k];x=n[k].edges;b=x.length;3==b?t=.1875:3<b&&(t=3/(8*b));h=1-b*t;p=t;2>=b&&2==b&&(h=.75,p=.125);B=v.clone().multiplyScalar(h);e.set(0,0,0);for(g=0;g<b;g++)h=x[g],h=h.a!==v?h.a:h.b,e.add(h);e.multiplyScalar(p);B.add(e);a.push(B)}e=a.concat(m);n=a.length;c=[];t=new THREE.Vector2;h=new THREE.Vector2;m=new THREE.Vector2;k=0;for(d=q.length;k<d;k++)a=q[k],g=l(a.a,a.b,r).newEdge+n,b=l(a.b,a.c,r).newEdge+n,p=l(a.c,a.a,r).newEdge+n,
c.push(new THREE.Face3(g,b,p)),c.push(new THREE.Face3(a.a,g,p)),c.push(new THREE.Face3(a.b,b,g)),c.push(new THREE.Face3(a.c,p,b)),C&&(b=z[k],a=b[0],g=b[1],b=b[2],t.set(w(a.x,g.x),w(a.y,g.y)),h.set(w(g.x,b.x),w(g.y,b.y)),m.set(w(a.x,b.x),w(a.y,b.y)),A(u,t,h,m),A(u,a,t,m),A(u,g,h,t),A(u,b,m,h));f.vertices=e;f.faces=c;C&&(f.faceVertexUvs[0]=u)}})();