THREE.ConstNode=function(a,b){THREE.TempNode.call(this);this.eval(a||THREE.ConstNode.PI,b)};THREE.ConstNode.PI="PI";THREE.ConstNode.PI2="PI2";THREE.ConstNode.RECIPROCAL_PI="RECIPROCAL_PI";THREE.ConstNode.RECIPROCAL_PI2="RECIPROCAL_PI2";THREE.ConstNode.LOG2="LOG2";THREE.ConstNode.EPSILON="EPSILON";THREE.ConstNode.prototype=Object.create(THREE.TempNode.prototype);THREE.ConstNode.prototype.constructor=THREE.ConstNode;THREE.ConstNode.prototype.nodeType="Const";THREE.ConstNode.prototype.getType=function(a){return a.getTypeByFormat(this.type)};
THREE.ConstNode.prototype.eval=function(a,b){a=(a||"").trim();var d,e,f="",c=a.match(/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i);this.useDefine=b;c&&1<c.length?(e=c[1],d=c[2],f=c[3]):(d=a,e="fv1");this.name=d;this.type=e;this.value=f};THREE.ConstNode.prototype.build=function(a,b){if("source"===b){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" \x3d "+this.value+";"}else return a.include(this),a.format(this.name,this.getType(a),b)};
THREE.ConstNode.prototype.generate=function(a,b){return a.format(this.name,this.getType(a),b)};THREE.ConstNode.prototype.toJSON=function(a){var b=this.getJSONNode(a);b||(b=this.createJSONNode(a),b.name=this.name,b.out=this.type,this.value&&(b.value=this.value),!0===b.useDefine&&(b.useDefine=!0));return b};