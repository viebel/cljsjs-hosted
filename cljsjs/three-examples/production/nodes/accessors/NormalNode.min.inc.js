THREE.NormalNode=function(a){THREE.TempNode.call(this,"v3");this.scope=a||THREE.NormalNode.LOCAL};THREE.NormalNode.LOCAL="local";THREE.NormalNode.WORLD="world";THREE.NormalNode.VIEW="view";THREE.NormalNode.prototype=Object.create(THREE.TempNode.prototype);THREE.NormalNode.prototype.constructor=THREE.NormalNode;THREE.NormalNode.prototype.nodeType="Normal";THREE.NormalNode.prototype.isShared=function(a){switch(this.scope){case THREE.NormalNode.WORLD:return!0}return!1};
THREE.NormalNode.prototype.generate=function(a,b){var d=a.material,c;switch(this.scope){case THREE.NormalNode.LOCAL:d.requires.normal=!0;c=a.isShader("vertex")?"normal":"vObjectNormal";break;case THREE.NormalNode.WORLD:d.requires.worldNormal=!0;c=a.isShader("vertex")?"( modelMatrix * vec4( objectNormal, 0.0 ) ).xyz":"vWNormal";break;case THREE.NormalNode.VIEW:c="vNormal"}return a.format(c,this.getType(a),b)};
THREE.NormalNode.prototype.toJSON=function(a){var b=this.getJSONNode(a);b||(b=this.createJSONNode(a),b.scope=this.scope);return b};