THREE.CubeTextureNode=function(a,b,c){THREE.InputNode.call(this,"v4",{shared:!0});this.value=a;this.coord=b||new THREE.ReflectNode;this.bias=c};THREE.CubeTextureNode.prototype=Object.create(THREE.InputNode.prototype);THREE.CubeTextureNode.prototype.constructor=THREE.CubeTextureNode;THREE.CubeTextureNode.prototype.nodeType="CubeTexture";THREE.CubeTextureNode.prototype.getTexture=function(a,b){return THREE.InputNode.prototype.generate.call(this,a,b,this.value.uuid,"t")};
THREE.CubeTextureNode.prototype.generate=function(a,b){if("samplerCube"===b)return this.getTexture(a,b);var c=this.getTexture(a,b),e=this.coord.build(a,"v3"),d=this.bias?this.bias.build(a,"fv1"):void 0;void 0==d&&a.requires.bias&&(d=a.requires.bias.build(a,"fv1"));c=d?"texCubeBias("+c+","+e+","+d+")":"texCube("+c+","+e+")";a.isSlot("color")?c="mapTexelToLinear("+c+")":a.isSlot("emissive")?c="emissiveMapTexelToLinear("+c+")":a.isSlot("environment")&&(c="envMapTexelToLinear("+c+")");return a.format(c,
this.type,b)};THREE.CubeTextureNode.prototype.toJSON=function(a){var b=this.getJSONNode(a);b||(b=this.createJSONNode(a),b.value=this.value.uuid,b.coord=this.coord.toJSON(a).uuid,this.bias&&(b.bias=this.bias.toJSON(a).uuid));return b};