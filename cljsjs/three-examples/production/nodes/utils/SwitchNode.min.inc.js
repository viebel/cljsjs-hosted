THREE.SwitchNode=function(a,b){THREE.GLNode.call(this);this.node=a;this.components=b||"x"};THREE.SwitchNode.prototype=Object.create(THREE.GLNode.prototype);THREE.SwitchNode.prototype.constructor=THREE.SwitchNode;THREE.SwitchNode.prototype.nodeType="Switch";THREE.SwitchNode.prototype.getType=function(a){return a.getFormatFromLength(this.components.length)};
THREE.SwitchNode.prototype.generate=function(a,b){var c=this.node.getType(a),e=a.getFormatLength(c)-1,f=this.node.build(a,c);if(0<e){var c=0,g=a.colorToVector(this.components),d,h=g.length;for(d=0;d<h;d++)c=Math.max(c,a.getIndexByElement(g.charAt(d)));c>e&&(c=e);f+=".";for(d=0;d<h;d++)g.charAt(d),e=a.getIndexByElement(g.charAt(d)),e>c&&(e=c),f+=a.getElementByIndex(e);return a.format(f,this.getType(a),b)}return a.format(f,c,b)};
THREE.SwitchNode.prototype.toJSON=function(a){var b=this.getJSONNode(a);b||(b=this.createJSONNode(a),b.node=this.node.toJSON(a).uuid,b.components=this.components);return b};