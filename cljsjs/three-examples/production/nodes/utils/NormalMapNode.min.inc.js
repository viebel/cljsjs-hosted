THREE.NormalMapNode=function(a,b,c,d,e){THREE.TempNode.call(this,"v3");this.value=a;this.scale=c||new THREE.FloatNode(1);this.normal=d||new THREE.NormalNode(THREE.NormalNode.LOCAL);this.position=e||new THREE.PositionNode(THREE.NormalNode.VIEW)};THREE.NormalMapNode.prototype=Object.create(THREE.TempNode.prototype);THREE.NormalMapNode.prototype.constructor=THREE.NormalMapNode;THREE.NormalMapNode.prototype.nodeType="NormalMap";
THREE.NormalMapNode.prototype.generate=function(a,b){a.include("perturbNormal2Arb");if(a.isShader("fragment"))return a.format("perturbNormal2Arb(-"+this.position.build(a,"v3")+","+this.normal.build(a,"v3")+","+this.value.build(a,"v3")+","+this.value.coord.build(a,"v2")+","+this.scale.build(a,"v2")+")",this.getType(a),b);console.warn("THREE.NormalMapNode is not compatible with "+a.shader+" shader.");return a.format("vec3( 0.0 )",this.getType(a),b)};
THREE.NormalMapNode.prototype.toJSON=function(a){var b=this.getJSONNode(a);b||(b=this.createJSONNode(a),b.value=this.value.uuid,b.scale=this.scale.toJSON(a).uuid,b.normal=this.normal.toJSON(a).uuid,b.position=this.position.toJSON(a).uuid);return b};