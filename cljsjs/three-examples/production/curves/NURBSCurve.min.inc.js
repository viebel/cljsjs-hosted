THREE.NURBSCurve=function(a,b,c,d,e){THREE.Curve.call(this);this.degree=a;this.knots=b;this.controlPoints=[];this.startKnot=d||0;this.endKnot=e||this.knots.length-1;for(a=0;a<c.length;++a)b=c[a],this.controlPoints[a]=new THREE.Vector4(b.x,b.y,b.z,b.w)};THREE.NURBSCurve.prototype=Object.create(THREE.Curve.prototype);THREE.NURBSCurve.prototype.constructor=THREE.NURBSCurve;
THREE.NURBSCurve.prototype.getPoint=function(a){a=THREE.NURBSUtils.calcBSplinePoint(this.degree,this.knots,this.controlPoints,this.knots[this.startKnot]+a*(this.knots[this.endKnot]-this.knots[this.startKnot]));1!=a.w&&a.divideScalar(a.w);return new THREE.Vector3(a.x,a.y,a.z)};
THREE.NURBSCurve.prototype.getTangent=function(a){a=THREE.NURBSUtils.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,this.knots[0]+a*(this.knots[this.knots.length-1]-this.knots[0]),1)[1].clone();a.normalize();return a};