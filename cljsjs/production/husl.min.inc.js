(function(){var p,q,s,t,u,c,v,g,h,l,w,x,r,m,n,e,k;r={R:[3.2409699419045213,-1.5373831775700935,-.4986107602930033],G:[-.9692436362808798,1.8759675015077206,.04155505740717561],B:[.05563007969699361,-.20397695888897657,1.0569715142428786]};p=[.4123907992659595,.35758433938387796,.1804807884018343];q=[.21263900587151036,.7151686787677559,.07219231536073371];s=[.01933081871559185,.11919477979462599,.9505321522496606];l=function(a){var b,d,c,f,y,e,g,h,l,m,n,k,p,q;c=Math.pow(a+16,3)/1560896;k=.008856451679035631<
c?c:a/903.2962962962963;n=[];l=["R","G","B"];c=0;for(y=l.length;c<y;c++)for(d=l[c],f=r[d],d=f[0],g=f[1],h=f[2],m=[0,1],f=0,e=m.length;f<e;f++)b=m[f],p=(284517*d-94839*h)*k,q=(838422*h+769860*g+731718*d)*a*k-769860*b*a,b=(632260*h-126452*g)*k+126452*b,n.push([p/b,q/b]);return n};w=function(a,b){return(a[1]-b[1])/(b[0]-a[0])};v=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))};x=function(a,b){var d;d=b[0];d=b[1]/(Math.sin(a)-d*Math.cos(a));return 0>d?null:d};n=function(a){var b,d,c,f,
e,g;c=[];e=l(a);a=0;for(d=e.length;a<d;a++)b=e[a],f=b[0],b=b[1],g=w([f,b],[-1/f,0]),c.push(v([g,b+g*f]));return Math.min.apply(Math,c)};m=function(a,b){var d,c,f,e,g,h;d=b/360*Math.PI*2;g=[];h=l(a);c=0;for(e=h.length;c<e;c++)f=h[c],f=x(d,f),null!==f&&g.push(f);return Math.min.apply(Math,g)};g=function(a,b){var d,c,f,e;d=c=e=0;for(f=a.length-1;0<=f?c<=f:c>=f;d=0<=f?++c:--c)e+=a[d]*b[d];return e};h=function(a){return.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055};k=function(a){return.04045<a?Math.pow((a+
.055)/1.055,2.4):a/12.92};c={xyz:{},luv:{},lch:{},husl:{},huslp:{},rgb:{},hex:{}};c.xyz.rgb=function(a){var b,d;d=h(g(r.R,a));b=h(g(r.G,a));a=h(g(r.B,a));return[d,b,a]};c.rgb.xyz=function(a){var b,d;d=a[0];b=a[1];a=a[2];a=[k(d),k(b),k(a)];b=g(p,a);d=g(q,a);a=g(s,a);return[b,d,a]};u=function(a){return.008856451679035631>=a?903.2962962962963*a:116*Math.pow(a,1/3)-16};t=function(a){return 8>=a?a/903.2962962962963:Math.pow((a+16)/116,3)};c.xyz.luv=function(a){var b,d,c;b=a[0];d=a[1];c=a[2];if(0===d)return[0,
0,0];a=u(d);return[a,13*a*(4*b/(b+15*d+3*c)-.19783000664283681),13*a*(9*d/(b+15*d+3*c)-.468319994938791)]};c.luv.xyz=function(a){var b,d;b=a[0];d=a[1];a=a[2];if(0===b)return[0,0,0];d=d/(13*b)+.19783000664283681;a=a/(13*b)+.468319994938791;b=t(b);d=0-9*b*d/((d-4)*a-d*a);return[d,b,(9*b-15*a*b-a*d)/(3*a)]};c.luv.lch=function(a){var b,d,c;d=a[0];b=a[1];c=a[2];a=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));1E-8>a?b=0:(b=Math.atan2(c,b),b=360*b/2/Math.PI,0>b&&(b=360+b));return[d,a,b]};c.lch.luv=function(a){var b,
d,c;c=a[0];b=a[1];d=a[2]/360*2*Math.PI;a=Math.cos(d)*b;b*=Math.sin(d);return[c,a,b]};c.husl.lch=function(a){var b,d,c;d=a[0];b=a[1];a=a[2];99.9999999<a||1E-8>a?b=0:(c=m(a,d),b*=c/100);return[a,b,d]};c.lch.husl=function(a){var b,c,e;c=a[0];b=a[1];a=a[2];99.9999999<c||1E-8>c?b=0:(e=m(c,a),b=b/e*100);return[a,b,c]};c.huslp.lch=function(a){var b,c,e;c=a[0];b=a[1];a=a[2];99.9999999<a||1E-8>a?b=0:(e=n(a),b*=e/100);return[a,b,c]};c.lch.huslp=function(a){var b,c,e;c=a[0];b=a[1];a=a[2];99.9999999<c||1E-8>
c?b=0:(e=n(c),b=b/e*100);return[a,b,c]};c.rgb.hex=function(a){var b,c,e,f;c="#";e=0;for(f=a.length;e<f;e++){b=a[e];b=Math.round(1E6*b)/1E6;if(0>b||1<b)throw Error("Illegal rgb value: "+b);b=Math.round(255*b).toString(16);1===b.length&&(b="0"+b);c+=b}return c};c.hex.rgb=function(a){var b,c,e,f;"#"===a.charAt(0)&&(a=a.substring(1,7));c=a.substring(0,2);b=a.substring(2,4);a=a.substring(4,6);e=[c,b,a];f=[];b=0;for(c=e.length;b<c;b++)a=e[b],f.push(parseInt(a,16)/255);return f};c.lch.rgb=function(a){return c.xyz.rgb(c.luv.xyz(c.lch.luv(a)))};
c.rgb.lch=function(a){return c.luv.lch(c.xyz.luv(c.rgb.xyz(a)))};c.husl.rgb=function(a){return c.lch.rgb(c.husl.lch(a))};c.rgb.husl=function(a){return c.lch.husl(c.rgb.lch(a))};c.huslp.rgb=function(a){return c.lch.rgb(c.huslp.lch(a))};c.rgb.huslp=function(a){return c.lch.huslp(c.rgb.lch(a))};e={fromRGB:function(a,b,d){return c.rgb.husl([a,b,d])},fromHex:function(a){return c.rgb.husl(c.hex.rgb(a))},toRGB:function(a,b,d){return c.husl.rgb([a,b,d])},toHex:function(a,b,d){return c.rgb.hex(c.husl.rgb([a,
b,d]))},p:{}};e.p.toRGB=function(a,b,d){return c.xyz.rgb(c.luv.xyz(c.lch.luv(c.huslp.lch([a,b,d]))))};e.p.toHex=function(a,b,d){return c.rgb.hex(c.xyz.rgb(c.luv.xyz(c.lch.luv(c.huslp.lch([a,b,d])))))};e.p.fromRGB=function(a,b,d){return c.lch.huslp(c.luv.lch(c.xyz.luv(c.rgb.xyz([a,b,d]))))};e.p.fromHex=function(a){return c.lch.huslp(c.luv.lch(c.xyz.luv(c.rgb.xyz(c.hex.rgb(a)))))};e._conv=c;e._getBounds=l;e._maxChromaForLH=m;e._maxSafeChromaForL=n;"undefined"!==typeof module&&null!==module||"undefined"!==
typeof jQuery&&null!==jQuery||"undefined"!==typeof requirejs&&null!==requirejs||(this.HUSL=e);"undefined"!==typeof module&&null!==module&&(module.exports=e);"undefined"!==typeof jQuery&&null!==jQuery&&(jQuery.husl=e);"undefined"!==typeof requirejs&&null!==requirejs&&"undefined"!==typeof define&&null!==define&&define(e)}).call(this);